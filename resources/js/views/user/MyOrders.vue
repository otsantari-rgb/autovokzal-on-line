<template>
    <div class="router-view">
        <h1 class="account-title">Мои заказы</h1>

        <!-- Переключатель -->
        <div class="col radio-col">
            <div class="radio_group" role="radiogroup">
                <label class="radio-label">
                    <input
                        type="radio"
                        id="active-orders"
                        autocomplete="off"
                        class="radio-input"
                        name="order-type"
                        value="active"
                        v-model="orderType"
                    />
                    <span class="radio-text">Активные</span>
                </label>
                <label class="radio-label">
                    <input
                        type="radio"
                        id="archived-orders"
                        autocomplete="off"
                        class="radio-input"
                        name="order-type"
                        value="archived"
                        v-model="orderType"
                    />
                    <span class="radio-text">Архив</span>
                </label>
                <div class="switcher" :class="{'switcher-active': orderType === 'active', 'switcher-archive': orderType === 'archived'}" aria-hidden="true"></div>
            </div>
        </div>

        <div v-if="filteredOrders.length === 0">
            <div v-if="orderType === 'active'" class="empty-orders">
                <svg width="68" height="54" viewBox="0 0 68 54" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="s__RBB9Pztsg76bVm7jBC_A" data-test-id="icon" style="display: inline-block;"><path fill-rule="evenodd" clip-rule="evenodd" d="M47 38c-1.5 0-2-.672-2-1.5s.5-1.5 2-1.5c1.34 0 1.911-.803 2.115-1.09l.006-.009C49.32 33.622 50 32.568 50 31c0-1.5.672-2 1.5-2s1.5.5 1.5 2c0 1.932-.595 3.48-1.496 4.724C50.604 36.968 49.147 38 47 38Z" fill="#0C131D"></path><path d="M45 36.5c0 .828.5 1.5 2 1.5 2.147 0 3.603-1.032 4.504-2.276C52.404 34.479 53 32.932 53 31c0-1.5-.672-2-1.5-2s-1.5.5-1.5 2c0 1.568-.68 2.622-.879 2.901l-.006.009C48.911 34.197 48.34 35 47 35c-1.5 0-2 .672-2 1.5Z" fill="#fff"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8 25.862v2.276C8 39.819 15.203 46 22 46s14-6.18 14-17.862v-2.276c0-6.794-1.82-11.199-4.235-13.863a11.623 11.623 0 0 0-.29-.308C29.109 9.26 25.86 8 22 8c-4.02 0-7.378 1.366-9.765 3.999C9.82 14.663 8 19.069 8 25.862Z" fill="#0C131D"></path><path d="M8 28.138v-2.276C8 19.068 9.82 14.663 12.235 12 14.622 9.366 17.98 8 22 8c3.86 0 7.11 1.26 9.475 3.69.098.101.195.204.29.31C34.18 14.662 36 19.067 36 25.861v2.276C36 39.819 28.797 46 22 46S8 39.82 8 28.138Z" fill="#fff"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M23 16c5.5 0 10 4.681 10 12.229v1.98C33 37.5 28 42 23 42s-10-4.5-10-11.79v-1.982C13 20.681 17.5 16 23 16Zm0 22c-1.5 0-2-.672-2-1.5s.5-1.5 2-1.5c1.34 0 1.911-.803 2.115-1.09l.006-.009C25.32 33.622 26 32.568 26 31c0-1.5.672-2 1.5-2s1.5.5 1.5 2c0 1.932-.595 3.48-1.496 4.724C26.604 36.968 25.147 38 23 38Z" fill="#0C131D"></path><path d="M21 36.5c0 .828.5 1.5 2 1.5 2.147 0 3.604-1.032 4.504-2.276C28.404 34.479 29 32.932 29 31c0-1.5-.672-2-1.5-2s-1.5.5-1.5 2c0 1.568-.68 2.622-.879 2.901l-.006.009C24.911 34.197 24.34 35 23 35c-1.5 0-2 .672-2 1.5Z" fill="#fff"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M64 25.862C64 10.88 55.941 4 46 4c-4.61 0-8.816 1.48-12 4.56C30.816 5.48 26.61 4 22 4 12.059 4 4 10.879 4 25.862v2.276C4 41.5 12.5 50 22 50c4.486 0 8.75-1.896 12-5.304C37.25 48.104 41.514 50 46 50c9.5 0 18-8.5 18-21.862v-2.276ZM46 46c6.797 0 14-6.18 14-17.862v-2.276c0-6.794-1.82-11.199-4.235-13.863C53.378 9.366 50.02 8 46 8c-3.86 0-7.11 1.26-9.475 3.69 1.389 2.212 2.416 4.916 2.98 8.133C41.343 17.37 44.025 16 47 16c5.5 0 10 4.681 10 12.229v1.98C57 37.5 52 42 47 42c-3.233 0-6.467-1.882-8.348-5.183-.569 1.7-1.303 3.26-2.174 4.663C39.126 44.465 42.613 46 46 46Zm1-8c-1.5 0-2-.672-2-1.5s.5-1.5 2-1.5c1.34 0 1.911-.803 2.115-1.09l.006-.009C49.32 33.622 50 32.568 50 31c0-1.5.672-2 1.5-2s1.5.5 1.5 2c0 1.932-.595 3.48-1.496 4.724C50.604 36.968 49.147 38 47 38ZM8 25.862v2.276C8 39.819 15.203 46 22 46s14-6.18 14-17.862v-2.276c0-6.794-1.82-11.199-4.235-13.863a11.623 11.623 0 0 0-.29-.308C29.109 9.26 25.86 8 22 8c-4.02 0-7.378 1.366-9.765 3.999C9.82 14.663 8 19.069 8 25.862Z" fill="#0C131D"></path><path d="M60 28.138C60 39.819 52.797 46 46 46c-3.387 0-6.874-1.535-9.522-4.52a22.226 22.226 0 0 0 2.174-4.663C40.533 40.118 43.767 42 47 42c5 0 10-4.5 10-11.79v-1.982C57 20.681 52.5 16 47 16c-2.976 0-5.658 1.37-7.495 3.823-.564-3.217-1.591-5.92-2.98-8.132C38.891 9.26 42.14 8 46 8c4.02 0 7.378 1.366 9.765 4C58.18 14.662 60 19.067 60 25.861v2.276Z" fill="#fff"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M22 54C9.797 54 0 43.18 0 28.138v-2.276c0-8.19 2.21-14.715 6.309-19.237C10.437 2.073 16.079 0 22 0c4.298 0 8.457 1.091 12 3.445C37.543 1.091 41.702 0 46 0c5.92 0 11.563 2.073 15.691 6.625C65.791 11.148 68 17.674 68 25.862v2.276C68 43.18 58.203 54 46 54c-4.365 0-8.514-1.43-12-3.992C30.514 52.57 26.365 54 22 54Zm10.734-8.096C29.68 48.549 25.925 50 22 50c-9.5 0-18-8.5-18-21.862v-2.276C4 10.88 12.059 4 22 4c4.61 0 8.816 1.48 12 4.56C37.184 5.48 41.39 4 46 4c9.941 0 18 6.879 18 21.862v2.276C64 41.5 55.5 50 46 50c-3.925 0-7.68-1.451-10.734-4.096-.437-.379-.86-.781-1.266-1.208-.407.427-.83.83-1.266 1.208Z" fill="#fff"></path></svg>
                <h3><b>Пока нет активных заказов</b></h3>
                <p>Но скоро наверняка появятся!</p>
            </div>
            <div v-else class="empty-orders">
                <svg xmlns="http://www.w3.org/2000/svg" width="68" height="55" fill="none" class="s__YnqO54smZT25PjzSkru6"><mask id="eyes_svg__a" width="68" height="54" x="0" y="0.5" fill="#000" maskUnits="userSpaceOnUse"><path fill="#fff" d="M0 .5h68v54H0z"></path><path fill-rule="evenodd" d="M21 38.5c1.5 0 2-.672 2-1.5s-.5-1.5-2-1.5c-1.34 0-1.911-.803-2.115-1.09l-.006-.009C18.68 34.122 18 33.068 18 31.5c0-1.5-.672-2-1.5-2s-1.5.5-1.5 2c0 1.932.595 3.48 1.496 4.724.9 1.244 2.357 2.276 4.504 2.276" clip-rule="evenodd"></path><path d="M23 37c0 .828-.5 1.5-2 1.5-2.147 0-3.604-1.032-4.504-2.276C15.596 34.979 15 33.432 15 31.5c0-1.5.672-2 1.5-2s1.5.5 1.5 2c0 1.568.68 2.622.879 2.901l.006.009c.204.287.775 1.09 2.115 1.09 1.5 0 2 .672 2 1.5"></path><path fill-rule="evenodd" d="M60 26.362v2.276C60 40.319 52.797 46.5 46 46.5s-14-6.18-14-17.862v-2.276c0-4.452.782-7.878 2-10.46.641-1.36 1.403-2.485 2.235-3.403q.143-.158.29-.308C38.891 9.76 42.14 8.5 46 8.5c4.02 0 7.378 1.366 9.765 3.999C58.18 15.163 60 19.569 60 26.362" clip-rule="evenodd"></path><path d="M60 28.638v-2.276c0-6.794-1.82-11.199-4.235-13.863C53.378 9.866 50.02 8.5 46 8.5c-3.86 0-7.11 1.26-9.475 3.69q-.147.151-.29.31c-.832.917-1.594 2.043-2.235 3.401-1.218 2.583-2 6.01-2 10.461v2.276C32 40.319 39.203 46.5 46 46.5s14-6.18 14-17.862"></path><path fill-rule="evenodd" d="M45 16.5c-5.5 0-10 4.681-10 12.229v1.98C35 38 40 42.5 45 42.5S55 38 55 30.71v-1.982C55 21.182 50.5 16.5 45 16.5m0 22c1.5 0 2-.672 2-1.5s-.5-1.5-2-1.5c-1.34 0-1.911-.803-2.115-1.09l-.006-.009C42.68 34.122 42 33.068 42 31.5c0-1.5-.672-2-1.5-2s-1.5.5-1.5 2c0 1.932.595 3.48 1.496 4.724.9 1.244 2.357 2.276 4.504 2.276" clip-rule="evenodd"></path><path d="M47 37c0 .828-.5 1.5-2 1.5-2.147 0-3.603-1.032-4.504-2.276C39.596 34.979 39 33.432 39 31.5c0-1.5.672-2 1.5-2s1.5.5 1.5 2c0 1.568.68 2.622.879 2.901l.006.009c.204.287.775 1.09 2.115 1.09 1.5 0 2 .672 2 1.5"></path><path fill-rule="evenodd" d="M4 26.362C4 11.38 12.059 4.5 22 4.5c4.61 0 8.816 1.48 12 4.56 3.185-3.08 7.39-4.56 12-4.56 9.941 0 18 6.879 18 21.862v2.276C64 42 55.5 50.5 46 50.5c-4.486 0-8.75-1.896-12-5.304-3.25 3.408-7.514 5.304-12 5.304-9.5 0-18-8.5-18-21.862zM22 46.5c-6.797 0-14-6.18-14-17.862v-2.276c0-6.794 1.82-11.199 4.235-13.863C14.622 9.866 17.98 8.5 22 8.5c3.86 0 7.11 1.26 9.475 3.69-1.389 2.212-2.416 4.916-2.98 8.133C26.658 17.87 23.975 16.5 21 16.5c-5.5 0-10 4.681-10 12.229v1.98C11 38 16 42.5 21 42.5c3.233 0 6.467-1.882 8.348-5.183.569 1.7 1.303 3.26 2.174 4.663-2.647 2.985-6.135 4.52-9.522 4.52m-1-8c1.5 0 2-.672 2-1.5s-.5-1.5-2-1.5c-1.34 0-1.911-.803-2.115-1.09l-.006-.009C18.68 34.122 18 33.068 18 31.5c0-1.5-.672-2-1.5-2s-1.5.5-1.5 2c0 1.932.595 3.48 1.496 4.724.9 1.244 2.357 2.276 4.504 2.276m39-12.138v2.276C60 40.319 52.797 46.5 46 46.5s-14-6.18-14-17.862v-2.276c0-4.452.782-7.878 2-10.46.641-1.36 1.403-2.485 2.235-3.403q.143-.158.29-.308C38.891 9.76 42.14 8.5 46 8.5c4.02 0 7.378 1.366 9.765 3.999C58.18 15.163 60 19.569 60 26.362" clip-rule="evenodd"></path><path d="M8 28.638C8 40.319 15.203 46.5 22 46.5c3.387 0 6.875-1.535 9.522-4.52a22.2 22.2 0 0 1-2.174-4.663C27.467 40.618 24.233 42.5 21 42.5c-5 0-10-4.5-10-11.79v-1.982C11 21.182 15.5 16.5 21 16.5c2.976 0 5.659 1.37 7.494 3.823.565-3.217 1.592-5.92 2.98-8.132C29.11 9.76 25.86 8.5 22 8.5c-4.02 0-7.378 1.366-9.765 4C9.82 15.162 8 19.567 8 26.361z"></path></mask><path fill="#0C131D" fill-rule="evenodd" d="M21 38.5c1.5 0 2-.672 2-1.5s-.5-1.5-2-1.5c-1.34 0-1.911-.803-2.115-1.09l-.006-.009C18.68 34.122 18 33.068 18 31.5c0-1.5-.672-2-1.5-2s-1.5.5-1.5 2c0 1.932.595 3.48 1.496 4.724.9 1.244 2.357 2.276 4.504 2.276" clip-rule="evenodd"></path><path fill="#fff" d="M23 37c0 .828-.5 1.5-2 1.5-2.147 0-3.604-1.032-4.504-2.276C15.596 34.979 15 33.432 15 31.5c0-1.5.672-2 1.5-2s1.5.5 1.5 2c0 1.568.68 2.622.879 2.901l.006.009c.204.287.775 1.09 2.115 1.09 1.5 0 2 .672 2 1.5"></path><path fill="#0C131D" fill-rule="evenodd" d="M60 26.362v2.276C60 40.319 52.797 46.5 46 46.5s-14-6.18-14-17.862v-2.276c0-4.452.782-7.878 2-10.46.641-1.36 1.403-2.485 2.235-3.403q.143-.158.29-.308C38.891 9.76 42.14 8.5 46 8.5c4.02 0 7.378 1.366 9.765 3.999C58.18 15.163 60 19.569 60 26.362" clip-rule="evenodd"></path><path fill="#fff" d="M60 28.638v-2.276c0-6.794-1.82-11.199-4.235-13.863C53.378 9.866 50.02 8.5 46 8.5c-3.86 0-7.11 1.26-9.475 3.69q-.147.151-.29.31c-.832.917-1.594 2.043-2.235 3.401-1.218 2.583-2 6.01-2 10.461v2.276C32 40.319 39.203 46.5 46 46.5s14-6.18 14-17.862"></path><path fill="#0C131D" fill-rule="evenodd" d="M45 16.5c-5.5 0-10 4.681-10 12.229v1.98C35 38 40 42.5 45 42.5S55 38 55 30.71v-1.982C55 21.182 50.5 16.5 45 16.5m0 22c1.5 0 2-.672 2-1.5s-.5-1.5-2-1.5c-1.34 0-1.911-.803-2.115-1.09l-.006-.009C42.68 34.122 42 33.068 42 31.5c0-1.5-.672-2-1.5-2s-1.5.5-1.5 2c0 1.932.595 3.48 1.496 4.724.9 1.244 2.357 2.276 4.504 2.276" clip-rule="evenodd"></path><path fill="#fff" d="M47 37c0 .828-.5 1.5-2 1.5-2.147 0-3.603-1.032-4.504-2.276C39.596 34.979 39 33.432 39 31.5c0-1.5.672-2 1.5-2s1.5.5 1.5 2c0 1.568.68 2.622.879 2.901l.006.009c.204.287.775 1.09 2.115 1.09 1.5 0 2 .672 2 1.5"></path><path fill="#0C131D" fill-rule="evenodd" d="M4 26.362C4 11.38 12.059 4.5 22 4.5c4.61 0 8.816 1.48 12 4.56 3.185-3.08 7.39-4.56 12-4.56 9.941 0 18 6.879 18 21.862v2.276C64 42 55.5 50.5 46 50.5c-4.486 0-8.75-1.896-12-5.304-3.25 3.408-7.514 5.304-12 5.304-9.5 0-18-8.5-18-21.862zM22 46.5c-6.797 0-14-6.18-14-17.862v-2.276c0-6.794 1.82-11.199 4.235-13.863C14.622 9.866 17.98 8.5 22 8.5c3.86 0 7.11 1.26 9.475 3.69-1.389 2.212-2.416 4.916-2.98 8.133C26.658 17.87 23.975 16.5 21 16.5c-5.5 0-10 4.681-10 12.229v1.98C11 38 16 42.5 21 42.5c3.233 0 6.467-1.882 8.348-5.183.569 1.7 1.303 3.26 2.174 4.663-2.647 2.985-6.135 4.52-9.522 4.52m-1-8c1.5 0 2-.672 2-1.5s-.5-1.5-2-1.5c-1.34 0-1.911-.803-2.115-1.09l-.006-.009C18.68 34.122 18 33.068 18 31.5c0-1.5-.672-2-1.5-2s-1.5.5-1.5 2c0 1.932.595 3.48 1.496 4.724.9 1.244 2.357 2.276 4.504 2.276m39-12.138v2.276C60 40.319 52.797 46.5 46 46.5s-14-6.18-14-17.862v-2.276c0-4.452.782-7.878 2-10.46.641-1.36 1.403-2.485 2.235-3.403q.143-.158.29-.308C38.891 9.76 42.14 8.5 46 8.5c4.02 0 7.378 1.366 9.765 3.999C58.18 15.163 60 19.569 60 26.362" clip-rule="evenodd"></path><path fill="#fff" d="M8 28.638C8 40.319 15.203 46.5 22 46.5c3.387 0 6.875-1.535 9.522-4.52a22.2 22.2 0 0 1-2.174-4.663C27.467 40.618 24.233 42.5 21 42.5c-5 0-10-4.5-10-11.79v-1.982C11 21.182 15.5 16.5 21 16.5c2.976 0 5.659 1.37 7.494 3.823.565-3.217 1.592-5.92 2.98-8.132C29.11 9.76 25.86 8.5 22 8.5c-4.02 0-7.378 1.366-9.765 4C9.82 15.162 8 19.567 8 26.361z"></path><path fill="#fff" d="M22 46.5v-2zM8 28.638h2zm0-2.276H6zM12.235 12.5l1.482 1.343zm6.65 21.91 1.63-1.158zm-.006-.008 1.63-1.16zM60 28.638h-2zm0-2.276h2zM46 46.5v-2zM32 28.638h2zm0-2.276h-2zM36.235 12.5l1.482 1.343zm19.53 0-1.482 1.343zm-12.88 21.91 1.63-1.158v-.001zm-.006-.008-1.63 1.16zm-11.404-22.21 1.694 1.063.836-1.331-1.097-1.127zm5.05 0 1.433 1.394zM34 15.9l-1.809-.853zm-5.506 4.422-1.6 1.199 2.771 3.703.8-4.556zm.854 16.994 1.896-.635-1.42-4.242-2.214 3.887zm2.174 4.663 1.496 1.327.988-1.114-.785-1.267zM6 28.638C6 41.18 13.87 48.5 22 48.5v-4c-5.464 0-12-5.042-12-15.862zm0-2.276v2.276h4v-2.276zm4.754-15.206C7.918 14.283 6 19.218 6 26.362h4c0-6.443 1.722-10.32 3.717-12.52zM22 6.5c-4.497 0-8.425 1.544-11.246 4.656l2.963 2.686C15.67 11.688 18.457 10.5 22 10.5zm-9 22.229c0-6.743 3.882-10.229 8-10.229v-4c-6.882 0-12 5.876-12 14.229zm0 1.98v-1.98H9v1.98zm8 9.791c-3.743 0-8-3.446-8-9.79H9c0 8.236 5.743 13.79 12 13.79zm0-3.5c0 .01-.002-.049.036-.146a.8.8 0 0 1 .215-.303c.093-.082.157-.096.13-.087A1.5 1.5 0 0 1 21 36.5v4c1.01 0 2.06-.222 2.874-.93C24.737 38.822 25 37.826 25 37zm0 .5c.232 0 .347.027.38.036.028.009-.035-.005-.13-.087a.8.8 0 0 1-.214-.303C20.998 37.049 21 36.99 21 37h4c0-.825-.263-1.821-1.126-2.57-.815-.708-1.864-.93-2.874-.93zm-3.745-1.931c.309.433 1.401 1.931 3.745 1.931v-4a.8.8 0 0 1-.248-.032.3.3 0 0 1-.083-.04.7.7 0 0 1-.154-.177zm-.006-.008.006.008 3.26-2.319-.006-.008zM16 31.5c0 2.15.928 3.61 1.25 4.06l3.259-2.318c-.077-.108-.509-.756-.509-1.742zm.5 0c.01 0-.049.002-.146-.036a.8.8 0 0 1-.303-.215c-.081-.093-.096-.157-.087-.13.01.034.036.15.036.381h4c0-1.01-.222-2.06-.93-2.874-.749-.863-1.745-1.126-2.57-1.126zm.5 0c0-.232.027-.347.037-.38.008-.028-.006.035-.088.13a.8.8 0 0 1-.303.214c-.097.038-.155.036-.146.036v-4c-.825 0-1.821.263-2.57 1.126-.708.815-.93 1.864-.93 2.874zm1.116 3.551C17.448 34.128 17 32.987 17 31.5h-4c0 2.377.743 4.33 1.876 5.896zM21 36.5c-1.406 0-2.297-.638-2.884-1.449l-3.24 2.345C16.09 39.074 18.112 40.5 21 40.5zm41-7.862v-2.276h-4v2.276zM46 48.5c8.13 0 16-7.32 16-19.862h-4C58 39.458 51.464 44.5 46 44.5zM30 28.638C30 41.18 37.87 48.5 46 48.5v-4c-5.464 0-12-5.042-12-15.862zm0-2.276v2.276h4v-2.276zm27.246-15.206C54.426 8.044 50.497 6.5 46 6.5v4c3.543 0 6.33 1.188 8.283 3.342zM62 26.362c0-7.144-1.918-12.079-4.754-15.206l-2.963 2.686C56.278 16.042 58 19.92 58 26.362zM45 37c0 .01-.002-.049.036-.146a.8.8 0 0 1 .215-.303c.093-.082.157-.096.13-.087A1.5 1.5 0 0 1 45 36.5v4c1.01 0 2.06-.222 2.874-.93C48.737 38.822 49 37.826 49 37zm0 .5c.232 0 .347.027.38.036.028.009-.036-.005-.13-.087a.8.8 0 0 1-.214-.303C44.998 37.049 45 36.99 45 37h4c0-.825-.263-1.821-1.126-2.57-.815-.708-1.864-.93-2.874-.93zm-3.745-1.931c.308.433 1.401 1.931 3.745 1.931v-4a.8.8 0 0 1-.248-.032.3.3 0 0 1-.083-.04.7.7 0 0 1-.154-.177zm-.005-.008.005.008 3.26-2.32-.007-.007zM40 31.5c0 2.15.928 3.61 1.25 4.06l3.259-2.318c-.077-.108-.509-.756-.509-1.742zm.5 0c.01 0-.049.002-.146-.036a.8.8 0 0 1-.303-.215c-.082-.093-.096-.157-.087-.13.01.034.036.15.036.381h4c0-1.01-.222-2.06-.93-2.874-.749-.863-1.745-1.126-2.57-1.126zm.5 0c0-.232.027-.347.036-.38.009-.028-.005.035-.087.13a.8.8 0 0 1-.303.214c-.097.038-.156.036-.146.036v-4c-.825 0-1.821.263-2.57 1.126-.708.815-.93 1.864-.93 2.874zm1.116 3.551C41.448 34.128 41 32.987 41 31.5h-4c0 2.377.743 4.33 1.876 5.896zM45 36.5c-1.406 0-2.297-.638-2.884-1.449l-3.24 2.345C40.09 39.074 42.112 40.5 45 40.5zM32.908 10.796C30.111 7.92 26.315 6.5 22 6.5v4c3.406 0 6.108 1.099 8.042 3.085zM46 6.5c-4.315 0-8.11 1.421-10.908 4.296l2.866 2.79C39.892 11.599 42.594 10.5 46 10.5zm-10.908 4.296q-.172.177-.338.36l2.963 2.686q.12-.13.241-.257zm-.338.36c-.972 1.072-1.842 2.364-2.563 3.892l3.618 1.707c.561-1.19 1.215-2.148 1.908-2.913zm-2.563 3.892C30.821 17.95 30 21.68 30 26.362h4c0-4.222.741-7.345 1.809-9.607zm-1.727 5.62c.526-2.997 1.472-5.45 2.705-7.414l-3.388-2.127c-1.544 2.46-2.654 5.415-3.256 8.85zM21 18.5c2.323 0 4.421 1.055 5.893 3.022l3.203-2.397c-2.2-2.94-5.467-4.625-9.096-4.625zm6.61 17.827C26.052 39.062 23.45 40.5 21 40.5v4c4.017 0 7.882-2.325 10.086-6.193zm5.611 4.6a20.2 20.2 0 0 1-1.976-4.245l-3.794 1.27a24.2 24.2 0 0 0 2.37 5.082zM22 48.5c3.996 0 8.017-1.808 11.018-5.193l-2.993-2.654C27.732 43.24 24.778 44.5 22 44.5zm0 2v4zm24 0v4zm18-21.862h-4zm0-2.276h4zM34 9.06l-2.781 2.875L34 14.625l2.781-2.69zm0 36.136 2.895-2.76L34 39.4l-2.895 3.035zM8 26.362c0-6.794 1.82-11.199 4.235-13.863C14.622 9.866 17.98 8.5 22 8.5v-8C16.08.5 10.437 2.573 6.309 7.126 2.209 11.645 0 18.173 0 26.362zm-8 0v2.276h8v-2.276zM22 46.5c-6.797 0-14-6.18-14-17.862H0C0 43.68 9.797 54.5 22 54.5zm38-17.862C60 40.319 52.797 46.5 46 46.5v8c12.203 0 22-10.82 22-25.862zm0-2.276v2.276h8v-2.276zM46 8.5c4.02 0 7.378 1.366 9.765 3.999C58.18 15.163 60 19.569 60 26.362h8c0-8.19-2.21-14.715-6.309-19.237C57.563 2.573 51.921.5 46 .5zm-7 20.229c0-5.938 3.264-8.229 6-8.229v-8c-8.264 0-14 7.071-14 16.229zm0 1.98v-1.98h-8v1.98zm6 7.791c-2.486 0-6-2.392-6-7.79h-8c0 9.182 6.486 15.79 14 15.79zm6-7.79c0 5.398-3.514 7.79-6 7.79v8c7.514 0 14-6.608 14-15.79zm0-1.982v1.982h8v-1.982zM45 20.5c2.736 0 6 2.291 6 8.229h8C59 19.57 53.264 12.5 45 12.5zm-23-12c3.737 0 6.89 1.183 9.219 3.435l5.562-5.75C32.741 2.275 27.483.5 22 .5zm14.781 3.435C39.11 9.683 42.263 8.5 46 8.5v-8c-5.483 0-10.74 1.776-14.781 5.685zM46 46.5c-3.323 0-6.56-1.396-9.105-4.064l-5.79 5.52C35.061 52.106 40.35 54.5 46 54.5zm-14.895-4.064C28.56 45.104 25.323 46.5 22 46.5v8c5.65 0 10.939-2.395 14.895-6.543z" mask="url(#eyes_svg__a)"></path></svg>
                <h3><b>Архивных заказов пока нет</b></h3>
                <p>Здесь будут все завершённые и отменённые заказы</p>
            </div>
        </div>

        <div v-else class="col">
            <div v-for="order in filteredOrders" :key="order.id" class="mb-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Заказ №{{ order.id }}</h5>
                        <p class="card-text"><strong>Статус:</strong> {{ order.translated_status }}</p>
                        <p class="card-text"><strong>Дата создания:</strong> {{ formatDate(order.created_at, 'DD MMMM YYYY в HH:mm:ss') }}</p>
                        <button class="btn btn-primary" @click="viewOrder(order.uuid)">Просмотреть</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script setup>
import dayjs from 'dayjs';
import 'dayjs/locale/ru';
import { ref, computed } from 'vue';
import AccountLayout from './Account.vue'
import AppLayout from '@/App.vue'
import { router } from '@inertiajs/vue3';
defineOptions({
    layout: [AppLayout, AccountLayout]
})

dayjs.locale('ru');
const props = defineProps({
    orders: Array,
});

const orderType = ref('active');

// Функция для форматирования даты
const formatDate = (date, format) => {
    return dayjs(date).format(format)
};

// Функция для перехода на страницу заказа
const viewOrder = (uuid) => {
    router.get( `/account/orders/${uuid}` );
};

const filteredOrders = computed(() => {
    const now = dayjs(); // Текущая дата и время

    return props.orders.filter(order => {
        const departureDateTime = dayjs(`${order.tickets[0].departure_date} ${order.tickets[0].departure_time}`);

        if (orderType.value === 'active') {
            return departureDateTime.isAfter(now); // Только будущие рейсы
        } else {
            return departureDateTime.isBefore(now); // Архивные заказы
        }
    });
});
</script>

<style scoped>
.router-view{
    display: flex;
    flex-direction: column;
}
.account-title {
    align-self: start;
    padding-left: 15px;
    font-weight: bold;
}
.card {
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 4px 12px -4px hsla(60, 4%, 60%, .35), 0 0 2px hsla(60, 4%, 60%, .3);
}
.card-body {
    padding: 16px;
}
.card-title {
    font-size: 1.25rem;
    margin-bottom: 8px;
}
.btn {
    margin-top: 12px;
}
.radio-col {
    display: flex;
    justify-content: center;
}
.radio_group {
    position: relative;
    margin-bottom: 20px;
    background: #efecec;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    height: 44px;
    padding: 4px 2px;
    width: 100%;
    min-width: 208px;
    display: flex;
    align-items: center;
}

.radio-label {
    cursor: pointer;
    display: inline-block;
    padding: 6px 18px;
    position: relative;
    border-radius: 8px;
    z-index: 1;
    width: 50%;
    margin-bottom: 0;
}

.radio-input {
    display: none;
}

.radio-text {
    display: flex;
    justify-content: center;
    position: relative;
    z-index: 1;
    font-size: 16px;
    font-weight: bold;
}

.switcher {
    width: 50%;
    height: 36px;
    position: absolute;
    background-color: #FFFFFF;
    border-radius: 8px;
    box-shadow: 0 4px 12px -4px hsla(60, 4%, 60%, .35), 0 0 2px hsla(60, 4%, 60%, .3);
    transition: left 0.3s ease;
    z-index: 0;
    left: 0;
}

.switcher-active {
    left: 1%;
}

.switcher-archive {
    left: 49%;
}
.empty-orders {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 20px;
}
.empty-orders h3 {
    margin-top: 0.5rem;
}
.empty-orders p {
    font-size: 17px;
}
</style>
