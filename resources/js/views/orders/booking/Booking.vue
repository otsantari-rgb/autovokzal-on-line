<template>
    <main v-if="bookingData">
        <section class="ticket-booking-section">
            <form @submit.prevent="confirmBooking(paymentMethod)">
                <div class="row">
                    <div class="col-md booking-col">
                        <!-- Информация о рейсе -->
                        <ride-info
                            :sheet="bookingData.data"
                            :refundLimit="refundLimit"
                        />

                        <!-- Схема автобуса -->
                        <div class="seat-selection">
                            <seat-selector
                                :seatMap="bookingData.seatMap"
                                :booked-seats="bookingData.bookedSeats"
                                v-model="selectedSeats"
                            />
                        </div>

                        <!-- Контактная информация покупателя -->
                        <div class="buyer">
                            <div class="row buyer-title">
                                Куда отправить билеты?
                            </div>
                            <div class="row buyer-data">
                                <div class="col">
                                    <div class="row">
                                    </div>
                                    <div class="row">
                                        <input
                                            class="email"
                                            type="email"
                                            id="email"
                                            v-model="contactInfo.email"
                                            :disabled="authStore.isAuthenticated"
                                            placeholder="Ваш E-mail"
                                            required
                                        />
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="row">
                                    </div>
                                    <div class="row">
                                        <input
                                            class="phone"
                                            type="tel"
                                            id="phone"
                                            v-model="contactInfo.phone"
                                            @input="formatPhoneNumber"
                                            placeholder="Ваш телефон"
                                            required
                                        />
                                    </div>
                                </div>
                            </div>
                            <div class="contact-info-warning">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#fa742d" class="bi bi-exclamation-circle" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                    <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"/>
                                </svg>
                                Оставляйте верные контакты: на почту вы получите билет, телефон нужен для Перевозчика, если будут изменения на рейсе
                            </div>

                            
                            <div v-if="bookingData?.data?.need_docs === 'false'" class="need-docs">
                                <button type="button" class="need-docs-button" @click="changeNeedDocs()">Нужна отчетность</button>
                            </div>
                        </div>

                        

                        <!-- Данные пассажиров -->
                        <div id="passenger-data" class="passenger-data"
                             :style="{ display: needDocs
                      ? (passengerData.length > 0 ? 'flex' : 'none')
                      : 'none' }">
                            <div
                                v-for="(seat, index) in selectedSeats"
                                :key="seat"
                                class="passenger-info-div"
                            >
                                <passenger-form
                                    :passengerIndex="index"
                                    :seat="seat"
                                    :passenger="passengerData[index]"
                                    :bookingData="bookingData"
                                    :user-docs="userDocs"
                                />
                                <hr v-if="index < selectedSeats.length - 1" />
                            </div>
                        </div>

                    </div>

                    <!-- Итоговая информация о заказе -->
                    <div class="col result-order">
                        <div class="result-order-info">
                            <!-- Итоговая стоимость и кнопка оплаты -->
                            <div v-if="selectedSeats.length !== 0" class="row result-title margin-row">Стоимость билетов</div>
                            <div v-else class="row result-title margin-row">Выберите места</div>
                            <div v-if="selectedSeats.length !== 0" class="row result-data margin-row mt-3 mb-2">
                                <div class="result-tariff-places">
                                    <span class="result-tariff">Полный </span>
                                    <span class="result-places">
                                        {{ selectedSeatsText }}
                                    </span>
                                </div>
                                <div class="result-price">
                                    <!-- Динамически отображаем количество и цену -->
                                    {{ selectedSeats.length }} x {{ bookingData.data.price }} ₽
                                </div>
                            </div>
                            <div class="row mt-4 mb-3"><div class="line"></div></div>
                            <div v-if="selectedSeats.length !== 0" class="row result-amount margin-row mb-2 mr-1">
                                <span id="total_text">Итого&nbsp;</span>
                                <span id="total_amount">{{ totalAmount }}&nbsp;₽</span>
                            </div>
                            <div v-if="selectedSeats.length !== 0" class="payment-type">
                                <p class="text-start">Выберите способ оплаты:</p>
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" v-model="paymentMethod" value="sbp" class="hidden-radio" />
                                        <span class="custom-radio" style="border:2px solid #38b510"></span>
                                        <svg width="100" height="50" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M0 10.8838L6.05499 21.7067V28.3084L0.00708333 39.11L0 10.8838Z" fill="#5B57A2"/>
                                        <path d="M23.2485 17.7676L28.9223 14.2901L40.5339 14.2793L23.2485 24.8685V17.7676Z" fill="#D90751"/>
                                        <path d="M23.2168 10.8196L23.2488 25.1487L17.1797 21.4196V0L23.2172 10.8196H23.2168Z" fill="#FAB718"/>
                                        <path d="M40.5342 14.2796L28.9222 14.2904L23.2168 10.8196L17.1797 0L40.5338 14.2796H40.5342Z" fill="#ED6F26"/>
                                        <path d="M23.2488 39.17V32.2179L17.1797 28.5596L17.183 50.0004L23.2488 39.17Z" fill="#63B22F"/>
                                        <path d="M28.9083 35.7242L6.05458 21.7067L0 10.8838L40.5095 35.71L28.9079 35.7242H28.9083Z" fill="#1487C9"/>
                                        <path d="M17.1836 50.0004L23.2486 39.17L28.9082 35.7241L40.5094 35.71L17.1836 50.0004Z" fill="#017F36"/>
                                        <path d="M0.00732422 39.1093L17.2294 28.5593L11.4394 25.0068L6.05523 28.3077L0.00732422 39.1093Z" fill="#984995"/>
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M66.2022 26.6991C70.1096 26.6991 73.0112 24.3033 73.0112 20.6713C73.0112 17.1557 70.8705 14.8734 67.2925 14.8734C65.6413 14.8734 64.2787 15.4544 63.2525 16.4574C63.4975 14.3847 65.2504 12.871 67.1804 12.871C67.6259 12.871 70.9792 12.8641 70.9792 12.8641L72.8755 9.23535C72.8755 9.23535 68.6655 9.33138 66.7084 9.33138C62.2367 9.4091 59.2163 13.4736 59.2163 18.4101C59.2163 24.1617 62.1621 26.6991 66.2022 26.6991ZM66.226 18.0875C67.6768 18.0875 68.6824 19.0408 68.6824 20.6709C68.6824 22.1378 67.7889 23.3467 66.226 23.3499C64.7308 23.3499 63.725 22.2297 63.725 20.6957C63.725 19.0653 64.7308 18.0875 66.226 18.0875ZM88.0995 14.038V26.2621H83.7345V17.6871H79.5316V26.2621H75.1666V14.0372L88.0995 14.038ZM53.0928 22.8763C54.6326 22.764 55.6632 22.1695 55.6632 22.1695L57.2786 25.1582C56.2441 25.8227 54.5467 26.2548 53.3162 26.3004C48.9142 26.3813 45.8521 23.7027 45.8521 19.8001C45.8521 15.9468 49.1099 13.2043 53.3162 13.2043C54.9829 13.2043 56.4158 13.6514 57.4916 14.4669C57.2652 14.8681 56.9574 15.4239 56.6648 15.9557L56.1963 16.8094L55.7701 17.589C55.7701 17.589 54.22 16.7768 53.0483 16.7768C51.1375 16.7768 49.7459 17.8873 49.7459 19.8245C49.7459 21.811 51.3228 22.9288 53.0928 22.8763ZM49.7471 34.4888C49.6138 34.6589 49.4385 34.7875 49.2281 34.8742C49.012 34.962 48.7811 35.0068 48.548 35.0056C48.3162 35.0088 48.0857 34.9702 47.8676 34.8917C47.6717 34.8204 47.4927 34.7094 47.3417 34.5657C47.1928 34.4217 47.0758 34.2479 46.9985 34.0555C46.9147 33.8451 46.873 33.6201 46.8756 33.3934C46.8756 33.1684 46.9143 32.9601 46.9946 32.7628C47.0717 32.565 47.1838 32.3953 47.3242 32.2529C47.3879 32.187 47.4573 32.128 47.5317 32.0751L47.5773 32.0442C47.6251 32.0128 47.675 31.9835 47.7266 31.9567L47.7822 31.929L47.8223 31.9099C48.0151 31.8265 48.2255 31.7813 48.4568 31.7813C48.7058 31.7813 48.9372 31.8126 49.1475 31.8749C49.2804 31.914 49.4004 31.9697 49.5078 32.0421C49.5709 32.0849 49.6295 32.1333 49.6838 32.1874L49.4281 32.6207C49.3042 32.5084 49.1585 32.4234 49 32.3705C48.8495 32.3221 48.692 32.2977 48.5339 32.2981C48.3938 32.2981 48.2605 32.3257 48.1309 32.3778C48.0033 32.4291 47.8866 32.5044 47.7873 32.6C47.6855 32.6976 47.6056 32.8161 47.5521 32.9467C47.4927 33.0814 47.4646 33.2307 47.4646 33.3971C47.4646 33.5668 47.4959 33.7194 47.5555 33.8512C47.6156 33.9863 47.6959 34.101 47.7976 34.1979C47.8992 34.2951 48.0184 34.3676 48.1551 34.4164C48.2109 34.4376 48.2678 34.4542 48.326 34.4664C48.4108 34.4843 48.4987 34.4929 48.5901 34.4929C48.7793 34.4929 48.9514 34.4542 49.0985 34.3814C49.1756 34.344 49.2487 34.2992 49.3166 34.2475C49.3768 34.2016 49.433 34.1503 49.4842 34.0941L49.7471 34.4888ZM50.4694 34.9328V31.8472H51.0234V34.1462L52.8255 31.8472H53.3797V34.9332H52.8255V32.6346L51.0234 34.9332L50.4694 34.9328ZM57.0506 34.4888C56.9143 34.6605 56.7354 34.7932 56.5318 34.8742C56.4081 34.9242 56.2793 34.9604 56.1481 34.982C56.0502 34.9979 55.9509 35.006 55.8514 35.0056C55.7585 35.0068 55.6657 35.0015 55.5739 34.9893C55.4368 34.9714 55.3019 34.9389 55.1713 34.8917C55.1265 34.8754 55.0826 34.8571 55.0397 34.8367C54.9878 34.8119 54.9373 34.7842 54.8885 34.7541C54.8014 34.7 54.7198 34.6369 54.6452 34.5657C54.496 34.4217 54.3791 34.2479 54.3017 34.0555C54.2181 33.8451 54.1762 33.6201 54.1789 33.3934C54.1789 33.1684 54.2175 32.9601 54.2981 32.7628C54.3756 32.565 54.4875 32.3953 54.6277 32.2529C54.7681 32.1072 54.9363 31.9966 55.1255 31.9099C55.3253 31.822 55.5418 31.7781 55.7601 31.7813C55.9049 31.7813 56.0435 31.7919 56.1755 31.813L56.253 31.8265C56.2823 31.8322 56.3114 31.8387 56.3401 31.8456L56.3912 31.8582L56.451 31.8749C56.6614 31.9371 56.84 32.0413 56.9875 32.1874L56.7314 32.6207C56.6079 32.5084 56.4622 32.4234 56.3039 32.3705C56.2659 32.3583 56.2274 32.3473 56.1885 32.3379C56.1619 32.3318 56.135 32.3266 56.108 32.3217C56.0825 32.3172 56.0569 32.3131 56.0313 32.3099L55.9747 32.3038C55.9291 32.2997 55.8834 32.2977 55.8376 32.2981C55.5591 32.2989 55.2915 32.4071 55.0905 32.6C55.0645 32.6256 55.0399 32.6521 55.0167 32.6802C54.9892 32.7131 54.9638 32.7481 54.9406 32.7843C54.9076 32.836 54.8791 32.8901 54.8555 32.9467C54.8425 32.976 54.8311 33.0061 54.8212 33.037C54.8096 33.0724 54.8 33.1086 54.7923 33.1456C54.776 33.225 54.7681 33.3084 54.7681 33.3971C54.7681 33.4773 54.775 33.5534 54.7886 33.6254C54.7967 33.6681 54.8071 33.7088 54.8197 33.7483C54.8311 33.7841 54.8444 33.8183 54.8592 33.8512C54.8968 33.9367 54.9428 34.014 54.9971 34.0836C55.0289 34.1242 55.0635 34.1621 55.1009 34.1979C55.2026 34.2951 55.3223 34.3676 55.4588 34.4164C55.5955 34.4648 55.7393 34.4929 55.8933 34.4929C55.958 34.4929 56.0203 34.4884 56.0803 34.4795C56.1959 34.4628 56.3027 34.4294 56.4018 34.3814C56.5474 34.311 56.6785 34.2134 56.7875 34.0941L57.0506 34.4888ZM57.338 31.8472H60.178V32.3953H59.035V34.9328H58.481V32.3953H57.338V31.8472ZM63.3091 34.5967C63.1549 34.735 62.9763 34.8359 62.7657 34.9018C62.5628 34.9673 62.3513 35.0011 62.1382 35.0023C62.0528 35.0036 61.9676 34.9991 61.8829 34.9893C61.7346 34.9718 61.5885 34.938 61.4475 34.888C61.2404 34.8119 61.0655 34.7041 60.9216 34.5621C60.7747 34.418 60.66 34.2443 60.5849 34.0526C60.5078 33.8549 60.4657 33.6331 60.4657 33.3902C60.4636 33.1749 60.5005 32.9613 60.5745 32.7595C60.6419 32.5695 60.7481 32.3961 60.8862 32.2496C60.9521 32.1817 61.0242 32.1198 61.1013 32.0653C61.1906 32.0023 61.2866 31.9489 61.3879 31.9062C61.5035 31.8582 61.6286 31.8228 61.7639 31.8017C61.8622 31.7862 61.9657 31.7781 62.075 31.7781C62.1393 31.7776 62.2034 31.7813 62.2666 31.789C62.324 31.796 62.381 31.8061 62.4371 31.8191C62.5057 31.8354 62.5734 31.8566 62.6395 31.8822C62.8115 31.9461 62.9689 32.0438 63.1024 32.1699C63.1366 32.2029 63.1687 32.237 63.199 32.2732C63.2241 32.303 63.2479 32.3335 63.2702 32.3652C63.3046 32.4136 63.336 32.4649 63.3636 32.5174C63.3807 32.5499 63.3964 32.5833 63.4108 32.6171C63.4426 32.6887 63.4678 32.7632 63.4865 32.8409C63.5132 32.9511 63.5266 33.0683 63.5266 33.1928C63.5266 33.3349 63.5162 33.4561 63.4916 33.5635H61.0933C61.1179 33.8553 61.2266 34.0836 61.4262 34.2467C61.6262 34.4099 61.8786 34.4892 62.1836 34.4892C62.2876 34.4892 62.3871 34.4811 62.4813 34.4648C62.5714 34.4494 62.657 34.4266 62.7378 34.396C62.9024 34.3334 63.0391 34.2573 63.1409 34.167L63.3091 34.5967ZM62.0504 32.2948C61.7629 32.2948 61.535 32.3709 61.3633 32.5267C61.1934 32.6802 61.0852 32.8897 61.0583 33.1163H62.9516C62.9374 32.86 62.8538 32.659 62.6957 32.5133C62.6695 32.4889 62.6416 32.4669 62.6123 32.447C62.5846 32.4279 62.5555 32.4108 62.525 32.3953C62.502 32.3835 62.478 32.3729 62.4532 32.3632C62.3362 32.3176 62.2015 32.2948 62.0504 32.2948ZM64.2804 31.8472H64.7853L65.9845 33.3764L67.1203 31.8472H67.6113V34.9332H67.0575V32.683L65.9774 34.1149H65.9562L64.8346 32.6826V34.9328H64.2804V31.8472ZM68.8765 31.9404C68.9551 31.907 69.036 31.8794 69.1186 31.8578C69.2975 31.8094 69.4832 31.7817 69.6799 31.7817C69.8714 31.7817 70.0384 31.8025 70.1806 31.844C70.2757 31.8716 70.3597 31.9087 70.4323 31.9546C70.5017 31.9982 70.5607 32.0503 70.6091 32.1109C70.6872 32.2065 70.7479 32.32 70.7914 32.4511C70.8475 32.6199 70.8752 32.8177 70.8752 33.0439V34.9368H70.3566V34.5381C70.2653 34.6561 70.1391 34.7598 69.9811 34.8502C69.8236 34.9401 69.6165 34.9852 69.3571 34.9852C69.1691 34.9852 69.0053 34.9498 68.8655 34.879C68.835 34.8636 68.8057 34.8465 68.7774 34.8278C68.7583 34.8148 68.7396 34.8009 68.7215 34.7867C68.7014 34.7708 68.6818 34.7537 68.6629 34.7358C68.4877 34.5694 68.3998 34.3334 68.3998 34.0319C68.3982 33.8866 68.4293 33.7434 68.4912 33.612C68.549 33.4923 68.6328 33.3869 68.7365 33.3039C68.8383 33.2205 68.9644 33.1579 69.1115 33.1163C69.1406 33.1082 69.1701 33.1005 69.1998 33.0936L69.2446 33.0838L69.2948 33.0748C69.386 33.059 69.4802 33.0504 69.5782 33.0504C69.7125 33.0521 69.8462 33.0659 69.9778 33.0923C70.1139 33.1159 70.2431 33.1692 70.3566 33.2486C70.3566 33.1871 70.3552 33.1277 70.3524 33.0704L70.3469 32.9861C70.3432 32.9406 70.3383 32.8962 70.332 32.8531C70.3145 32.7318 70.2828 32.6281 70.2337 32.5447C70.2105 32.5056 70.1829 32.4694 70.1503 32.4376C70.1351 32.4226 70.1188 32.4083 70.1013 32.3953C70.0895 32.3868 70.0771 32.3782 70.0641 32.3705C70.05 32.362 70.0354 32.3542 70.0199 32.3469C69.9253 32.2985 69.8024 32.2737 69.6482 32.2737C69.4553 32.2737 69.294 32.2948 69.1679 32.34L69.1007 32.3648L69.044 32.3864L68.9774 32.4136C68.9146 32.4401 68.8519 32.4686 68.789 32.4995L68.6419 32.0621C68.717 32.0157 68.7955 31.975 68.8765 31.9404ZM69.5504 34.4892C69.7536 34.4892 69.9186 34.4481 70.0449 34.3578C70.1587 34.2821 70.2624 34.1922 70.3532 34.0905V33.6986C70.2919 33.6547 70.2266 33.6181 70.1572 33.5884C70.1184 33.5717 70.0783 33.5574 70.037 33.5456C70.0083 33.5375 69.979 33.5302 69.9491 33.5237C69.9149 33.5163 69.8799 33.5106 69.8441 33.5062C69.7825 33.4984 69.7184 33.4944 69.6521 33.4944C69.5678 33.4944 69.4875 33.5045 69.4065 33.5253C69.3664 33.535 69.3274 33.5485 69.2899 33.5656C69.2564 33.5806 69.2238 33.5985 69.1929 33.6193C69.1333 33.6608 69.0808 33.7129 69.0419 33.7788L69.034 33.793C69.0281 33.804 69.0228 33.815 69.0181 33.8264C69.0128 33.839 69.0084 33.852 69.0045 33.8655C69.0008 33.8777 68.9978 33.8903 68.9951 33.9033C68.9888 33.9346 68.9858 33.968 68.9858 34.0038C68.9858 34.1495 69.0348 34.2675 69.1333 34.3574C69.1898 34.4074 69.2604 34.4437 69.3445 34.4652C69.4059 34.4811 69.4747 34.4892 69.5504 34.4892ZM76.0823 30.4955C75.9841 30.6237 75.8791 30.7103 75.767 30.762C75.6545 30.8141 75.532 30.8491 75.3987 30.8768C75.2986 30.8975 75.1941 30.9166 75.0844 30.9366L74.9745 30.9569C74.8083 30.9874 74.6468 31.0399 74.494 31.1128C74.436 31.1376 74.3805 31.1677 74.3282 31.2023C74.2907 31.2271 74.2549 31.254 74.221 31.2833L74.1801 31.3203L74.1552 31.3451L74.1294 31.3724C74.1105 31.3948 74.0922 31.4175 74.0747 31.4407C74.0397 31.4867 74.0075 31.5343 73.9782 31.584C73.9487 31.634 73.9221 31.6861 73.8983 31.7402C73.8383 31.8749 73.7929 32.0177 73.7612 32.1666C73.7298 32.316 73.7123 32.4612 73.7016 32.6032H73.7158C73.7648 32.4926 73.8348 32.3953 73.919 32.3082C74.0051 32.2204 74.103 32.1447 74.21 32.0832C74.2334 32.0698 74.257 32.0568 74.281 32.0442C74.308 32.0303 74.3355 32.0173 74.3634 32.0051C74.4273 31.977 74.4932 31.9534 74.5607 31.9343C74.6871 31.8997 74.8167 31.8822 74.9499 31.8822C75.0801 31.8806 75.2097 31.8948 75.3359 31.9245C75.4095 31.942 75.4819 31.9648 75.5527 31.9929C75.7271 32.0621 75.884 32.1691 76.0123 32.3054C76.1405 32.4446 76.2386 32.6085 76.2998 32.7872C76.3665 32.9747 76.4015 33.1859 76.4015 33.4179C76.4015 33.6331 76.3629 33.8374 76.2823 34.0282C76.2492 34.1104 76.2093 34.1889 76.1633 34.263C76.1029 34.3606 76.0323 34.4502 75.9527 34.5311C75.8087 34.6776 75.637 34.794 75.4478 34.8742C75.2516 34.9576 75.0341 35.0027 74.7992 35.0027C74.5432 35.0027 74.3154 34.9576 74.1119 34.8676C73.9087 34.7777 73.7365 34.6524 73.5929 34.486C73.4491 34.3228 73.3408 34.1222 73.2633 33.8825C73.1862 33.6433 73.1478 33.3768 73.1478 33.0818C73.1478 32.8531 73.1616 32.6142 73.1899 32.3644C73.2173 32.1194 73.2727 31.879 73.3545 31.6466C73.4352 31.4175 73.5545 31.2096 73.7054 31.0261C73.8562 30.8422 74.0558 30.6969 74.305 30.5891L74.3593 30.5655C74.386 30.5545 74.4128 30.5439 74.4399 30.5342C74.4891 30.5163 74.5387 30.5 74.589 30.4853C74.6191 30.4768 74.6494 30.4686 74.6799 30.4613C74.7182 30.452 74.7568 30.4438 74.7957 30.4369L74.9876 30.4039L75.0903 30.386L75.1953 30.3673C75.2569 30.3567 75.318 30.3425 75.378 30.3246C75.4252 30.3108 75.4718 30.2949 75.5178 30.277C75.5432 30.2672 75.568 30.2546 75.592 30.2404L75.6233 30.22C75.6799 30.1806 75.7324 30.1277 75.7808 30.0622L76.0823 30.4955ZM73.7404 33.1859C73.7372 33.369 73.7632 33.5517 73.8173 33.7267C73.8637 33.8748 73.9361 34.0132 74.0311 34.136C74.1219 34.2459 74.2356 34.3346 74.3644 34.396C74.494 34.4583 74.6346 34.4896 74.7886 34.4896C74.9052 34.4896 75.0122 34.4738 75.1119 34.4416L75.1481 34.4294C75.1676 34.4225 75.1869 34.4148 75.2061 34.4062C75.3273 34.355 75.437 34.2793 75.5285 34.1849C75.6201 34.0901 75.6917 33.9778 75.7391 33.8549C75.7877 33.7304 75.8162 33.5949 75.8162 33.4459C75.8162 33.1444 75.732 32.8946 75.5599 32.694C75.5023 32.6273 75.4364 32.5719 75.3617 32.5276C75.3005 32.4909 75.2333 32.4621 75.1603 32.4405C75.0575 32.4104 74.9432 32.3953 74.8167 32.3953C74.555 32.3933 74.3003 32.48 74.0944 32.6415C74.0033 32.7147 73.9262 32.7977 73.8665 32.8913C73.8458 32.9223 73.8271 32.9544 73.8106 32.9878C73.7974 33.0146 73.7854 33.0419 73.775 33.0696C73.7608 33.1074 73.7492 33.1465 73.7404 33.1859ZM80.097 31.8476H80.6512V34.9336H80.097V31.8476ZM77.7549 31.8476H77.2007H77.1974V34.9368H78.2037C78.2542 34.9368 78.3026 34.9352 78.3494 34.9323C78.3789 34.9307 78.4076 34.9283 78.4356 34.9254C78.4609 34.923 78.4857 34.9201 78.5099 34.9165C78.6248 34.9002 78.728 34.8742 78.8208 34.84C78.8598 34.8253 78.8971 34.8099 78.9325 34.7932L78.9778 34.7704L79.0136 34.7513C79.0389 34.7366 79.0631 34.7212 79.0861 34.7049C79.1009 34.6947 79.1152 34.6841 79.129 34.6736C79.1459 34.6601 79.1622 34.6463 79.1778 34.6321C79.1927 34.6186 79.2069 34.6044 79.2203 34.5901C79.3186 34.486 79.3925 34.3716 79.4346 34.2402C79.4614 34.1621 79.4799 34.084 79.4903 34.0046C79.4976 33.9497 79.5011 33.8939 79.5011 33.8374C79.5011 33.8077 79.5001 33.7784 79.4981 33.7491C79.4964 33.7234 79.494 33.6982 79.4909 33.673C79.4812 33.5932 79.4645 33.5155 79.4415 33.4386C79.4028 33.3108 79.3361 33.1965 79.2415 33.0993C79.1469 33.002 79.0208 32.9227 78.8629 32.8633C78.7048 32.8047 78.5087 32.7733 78.267 32.7733H77.7549V31.8476ZM78.1581 34.4201H77.7549V33.2897V33.2824H78.1653C78.2169 33.2824 78.2658 33.284 78.3119 33.2877C78.3827 33.2933 78.4468 33.3035 78.5044 33.3178C78.5477 33.3283 78.5872 33.3418 78.623 33.3572C78.6684 33.3772 78.7074 33.4008 78.7404 33.4284C78.7776 33.461 78.809 33.498 78.8342 33.5403C78.8621 33.5867 78.8828 33.6392 78.8956 33.6974C78.9064 33.7458 78.9119 33.7983 78.9119 33.8549C78.9119 34.0388 78.8562 34.1771 78.7437 34.2744C78.6946 34.3167 78.6297 34.3501 78.549 34.3741C78.4448 34.4046 78.3142 34.4201 78.1581 34.4201ZM84.3153 34.4888C84.1821 34.6589 84.0067 34.7875 83.7963 34.8742C83.5803 34.9616 83.3494 35.0064 83.1162 35.0056C82.8845 35.0088 82.654 34.9702 82.4359 34.8917C82.24 34.8204 82.0609 34.7094 81.91 34.5657C81.8528 34.5104 81.8003 34.4506 81.7529 34.3871L81.7144 34.333C81.7006 34.3126 81.6874 34.2919 81.6746 34.2707L81.6569 34.241C81.6453 34.2211 81.6343 34.2007 81.6237 34.18C81.6095 34.1527 81.596 34.1251 81.5834 34.0966L81.5663 34.0555C81.4829 33.8451 81.4412 33.6201 81.4439 33.3934C81.4439 33.1684 81.4821 32.9601 81.5629 32.7628C81.64 32.565 81.7521 32.3953 81.8925 32.2529C82.0328 32.1072 82.2009 31.9966 82.3905 31.9099C82.5903 31.822 82.8068 31.7781 83.0251 31.7813C83.2737 31.7813 83.5054 31.8126 83.7158 31.8749C83.9264 31.9371 84.105 32.0413 84.2521 32.1874L83.9963 32.6207C83.9445 32.5735 83.8887 32.5312 83.8297 32.4942C83.8006 32.4759 83.7707 32.4588 83.74 32.4429C83.716 32.4307 83.6916 32.4193 83.6665 32.4083L83.6198 32.3892L83.5683 32.3705C83.4177 32.3221 83.2603 32.2977 83.1022 32.2981C83.0458 32.2981 82.9905 32.3025 82.936 32.3111C82.8552 32.3241 82.7765 32.3469 82.6987 32.3778C82.5712 32.4291 82.4546 32.5048 82.3555 32.6C82.323 32.6317 82.2926 32.6655 82.2648 32.7009L82.2404 32.733C82.1923 32.7994 82.1521 32.871 82.1203 32.9467C82.0609 33.0814 82.0328 33.2307 82.0328 33.3971C82.0328 33.5668 82.0642 33.7194 82.1238 33.8512C82.1834 33.9863 82.2642 34.101 82.3659 34.1979C82.4674 34.2951 82.5866 34.3676 82.7234 34.4164C82.8605 34.4648 83.0041 34.4929 83.1583 34.4929C83.2723 34.4929 83.3785 34.4791 83.4779 34.4518C83.503 34.4449 83.5276 34.4371 83.5518 34.4286C83.5913 34.4152 83.6295 34.3993 83.6667 34.3814C83.8124 34.311 83.9434 34.2134 84.0525 34.0941L84.3153 34.4888ZM84.6028 31.8472H87.443V32.3953H86.2996V34.9328H85.7458V32.3953H84.6028V31.8472ZM88.0458 31.848H88.6V32.2118C88.705 32.0865 88.8558 31.9868 89.0488 31.9034C89.2417 31.82 89.4449 31.7785 89.662 31.7785C89.6972 31.7776 89.7322 31.7785 89.7672 31.7805C89.8378 31.7846 89.9078 31.7935 89.9768 31.8073C90.0742 31.8269 90.1696 31.8566 90.2616 31.8961C90.4347 31.9685 90.5896 32.0788 90.7141 32.2187C90.8412 32.3624 90.9389 32.5296 91.0017 32.7107C91.0341 32.8034 91.0589 32.9007 91.076 33.0028C91.0941 33.1111 91.1033 33.2242 91.1033 33.3422C91.1033 33.5741 91.0646 33.793 90.9875 33.9969C90.9104 34.2016 90.8015 34.3749 90.6579 34.5246C90.5118 34.6736 90.3381 34.7924 90.1462 34.8746C89.9462 34.9576 89.7253 35.0023 89.4799 35.0023C89.3149 35.0023 89.1538 34.9852 88.9996 34.9507C88.8454 34.9161 88.7121 34.864 88.6 34.7912V36.306H88.0458V31.848ZM89.5013 32.2948C89.3153 32.2948 89.1436 32.3367 88.9858 32.4201C88.8283 32.5031 88.6983 32.6037 88.6004 32.7212V34.2504C88.7259 34.3346 88.8645 34.3981 89.0104 34.438C89.1436 34.4725 89.2842 34.4896 89.4346 34.4896C89.5898 34.4925 89.7438 34.4628 89.887 34.403C90.0154 34.3505 90.1314 34.2711 90.227 34.1706C90.3222 34.0689 90.3953 33.9485 90.4412 33.817C90.4901 33.6783 90.5183 33.5294 90.5183 33.3629C90.5183 33.3279 90.5173 33.2933 90.5151 33.2596L90.5104 33.2046L90.5059 33.1656L90.4998 33.1253L90.4927 33.0866L90.4829 33.0415C90.4742 33.0044 90.4638 32.9682 90.4516 32.9328C90.4095 32.8014 90.343 32.6903 90.2555 32.5931C90.1674 32.4962 90.0624 32.4234 89.9363 32.3713C89.8063 32.3192 89.6624 32.2948 89.5013 32.2948ZM94.7987 31.8476H95.3529V34.9332H94.7987V31.8476ZM92.4534 31.8476H91.8992H91.8959V34.9364H92.902C93.1475 34.9364 93.3508 34.9018 93.5192 34.84C93.6875 34.7773 93.8208 34.6943 93.9188 34.5901C94.0171 34.486 94.0907 34.3716 94.1328 34.2398C94.1782 34.1084 94.1992 33.9761 94.1992 33.8374C94.1992 33.6986 94.1782 33.5672 94.1396 33.4386C94.1013 33.3108 94.0346 33.1961 93.94 33.0993C93.8454 33.002 93.7192 32.9223 93.5611 32.8633C93.4033 32.8047 93.2071 32.7733 92.965 32.7733H92.4534V31.8476ZM92.8605 34.4201H92.457V33.2897V33.2824H92.8674C93.1337 33.2824 93.3266 33.3312 93.4425 33.4284C93.5546 33.5257 93.614 33.6673 93.614 33.8549C93.614 34.0388 93.5579 34.1771 93.4458 34.274C93.3337 34.3716 93.1372 34.4201 92.8605 34.4201ZM98.0108 33.3349L99.1957 34.9332H98.5158L97.6005 33.6848L96.6713 34.9332H96.0262L97.2041 33.3621L96.0961 31.8472H96.7767L97.6216 33.0122L98.4804 31.8472H99.1257L98.0108 33.3349ZM49.3372 38.7466H47.6367V41.3195H47.0825V38.2339H49.8909V41.3195H49.3372V38.7466ZM53.0359 38.7812H51.9421L51.9067 39.3012C51.8825 39.5783 51.8528 39.8208 51.8158 40.03C51.7938 40.1533 51.7694 40.2652 51.7421 40.3657C51.6683 40.6363 51.5771 40.8442 51.4722 40.9899C51.3672 41.1355 51.2441 41.236 51.1037 41.2849C50.9589 41.3374 50.8057 41.363 50.6516 41.361L50.6095 40.8267C50.6691 40.83 50.7391 40.8165 50.8162 40.7819C50.8938 40.7474 50.9709 40.6709 51.0441 40.5569C51.118 40.4385 51.1847 40.2721 51.2441 40.0573C51.3037 39.8388 51.3426 39.5547 51.3633 39.1971L51.4197 38.2368H53.5901V41.3227H53.0359V38.7812ZM54.6065 38.4451C54.7432 38.3584 54.9046 38.2893 55.0836 38.2409C55.2663 38.1904 55.4549 38.1648 55.6445 38.1648C56.0862 38.1648 56.3983 38.275 56.5737 38.4939C56.7523 38.7125 56.8404 39.0245 56.8404 39.4266V41.3195H56.3212V40.9207C56.2298 41.0387 56.1037 41.1429 55.9462 41.2328C55.7882 41.3231 55.5817 41.3683 55.3221 41.3683C55.0346 41.3683 54.8028 41.2849 54.6279 41.1185C54.5316 41.0277 54.4621 40.9158 54.4185 40.7836C54.3827 40.6741 54.3648 40.5512 54.3648 40.4149C54.3646 40.393 54.365 40.371 54.3662 40.349C54.3689 40.3006 54.3752 40.253 54.3852 40.2062C54.4004 40.1333 54.424 40.0625 54.4558 39.995C54.5135 39.8754 54.5974 39.77 54.7011 39.687C54.7565 39.6414 54.8189 39.6023 54.8881 39.5694C54.9463 39.5417 55.0091 39.5185 55.0765 39.4994C55.2236 39.4575 55.3782 39.4335 55.5428 39.4335C55.6771 39.4351 55.8107 39.4489 55.9424 39.475C55.9928 39.4839 56.0423 39.497 56.0903 39.5136C56.1721 39.5421 56.2498 39.5816 56.3212 39.6308C56.3212 39.4888 56.3141 39.3574 56.2966 39.2357C56.2872 39.1714 56.274 39.112 56.2563 39.0579C56.2471 39.0302 56.237 39.0038 56.2256 38.979C56.2172 38.9611 56.2083 38.9436 56.1987 38.9273C56.1495 38.8439 56.0795 38.7747 55.9845 38.7295C55.9228 38.6982 55.8496 38.6766 55.7631 38.6657L55.7208 38.6612C55.6866 38.6583 55.6506 38.6567 55.6128 38.6567C55.4203 38.6567 55.2586 38.6779 55.1324 38.7226C55.0958 38.7356 55.0592 38.7495 55.0226 38.7637C54.9333 38.7987 54.8437 38.8378 54.754 38.8821L54.6065 38.4451ZM55.5186 40.8723C55.6457 40.8723 55.7578 40.856 55.8547 40.8218C55.9129 40.8011 55.9656 40.7742 56.0128 40.74C56.1267 40.6648 56.2305 40.5748 56.3216 40.4731V40.0813C56.1287 39.9429 55.8935 39.8774 55.6203 39.8774C55.5884 39.8774 55.5564 39.8786 55.5247 39.8815C55.4742 39.8864 55.4242 39.8953 55.3749 39.9079C55.294 39.9291 55.2207 39.96 55.1611 40.0019C55.1015 40.0434 55.0486 40.0955 55.0104 40.1614C54.9715 40.2273 54.954 40.3002 54.954 40.3868C54.954 40.5321 55.0032 40.6501 55.1015 40.74C55.1996 40.8271 55.3361 40.8723 55.5186 40.8723ZM57.3871 38.2339H60.2272V38.7816H59.0838V41.3195H58.5301V38.782H57.3871V38.2339ZM63.0652 41.1856C62.987 41.2263 62.9038 41.2605 62.8149 41.2881C62.6046 41.3541 62.3942 41.389 62.1871 41.389C61.9519 41.3919 61.7181 41.3532 61.4966 41.2743C61.2897 41.1982 61.1141 41.0904 60.9704 40.9484C60.8266 40.8064 60.7112 40.6363 60.6337 40.4389C60.5566 40.2408 60.5145 40.0194 60.5145 39.7765C60.5127 39.5612 60.5495 39.3476 60.6234 39.1454C60.6549 39.0571 60.6948 38.9725 60.7424 38.8923C60.7969 38.8003 60.8616 38.7141 60.9355 38.636C61.0777 38.4887 61.2484 38.3719 61.4372 38.2925C61.6367 38.2091 61.8646 38.1644 62.1242 38.1644C62.3173 38.1631 62.5087 38.1985 62.6888 38.2685C62.8607 38.3324 63.018 38.4305 63.1512 38.5562C63.2833 38.6832 63.3882 38.8353 63.4601 39.0034C63.5372 39.1767 63.5758 39.3676 63.5758 39.5787C63.5758 39.7212 63.565 39.8428 63.5408 39.9498H61.1426C61.1672 40.2412 61.2754 40.4703 61.4754 40.633C61.6754 40.7958 61.9279 40.8755 62.2329 40.8755C62.4363 40.8755 62.6221 40.8446 62.7866 40.7824C62.9516 40.7197 63.0884 40.6436 63.1901 40.5529L63.3583 40.983C63.2692 41.0627 63.172 41.1303 63.0652 41.1856ZM62.0963 38.6775C61.8087 38.6775 61.5808 38.754 61.4091 38.9098C61.2394 39.0628 61.131 39.2723 61.1041 39.4994H62.9974C62.9834 39.2426 62.8992 39.0416 62.7417 38.896C62.5838 38.754 62.37 38.6775 62.0963 38.6775ZM64.5471 38.2339H63.8458L64.992 39.7212L63.7933 41.3195H64.4732L65.6162 39.7216L64.5471 38.2339ZM66.3071 38.2339H65.7529V41.3195H66.3071V38.2339ZM67.0678 39.7212L68.2879 41.3195H67.6009L66.4437 39.7212L67.5199 38.2335H68.2076L67.0678 39.7212ZM71.3629 40.983C71.2087 41.1213 71.03 41.2222 70.8195 41.2881C70.6166 41.3532 70.405 41.3874 70.192 41.389C69.9568 41.3919 69.7229 41.3532 69.5013 41.2743C69.2942 41.1982 69.1192 41.0904 68.9754 40.9484C68.8316 40.8064 68.7158 40.6363 68.6387 40.4389C68.5616 40.2408 68.5197 40.0194 68.5197 39.7765C68.5174 39.5612 68.5543 39.3476 68.6283 39.1454C68.6957 38.9558 68.8021 38.782 68.9404 38.636C69.0824 38.4887 69.2531 38.3719 69.4417 38.2925C69.6417 38.2091 69.8696 38.1644 70.1288 38.1644C70.3218 38.1631 70.5133 38.1985 70.6933 38.2685C70.8655 38.3324 71.0227 38.4305 71.1562 38.5562C71.288 38.6832 71.3928 38.8353 71.4646 39.0034C71.5421 39.1767 71.5804 39.3676 71.5804 39.5787C71.5804 39.7212 71.57 39.8428 71.5454 39.9498H69.1471C69.1717 40.2412 69.2804 40.4703 69.48 40.633C69.6799 40.7958 69.9324 40.8755 70.2374 40.8755C70.4409 40.8755 70.6266 40.8446 70.7916 40.7824C70.9562 40.7197 71.0929 40.6436 71.1946 40.5529L71.3629 40.983ZM70.1013 38.6775C69.8138 38.6775 69.5858 38.754 69.4138 38.9098C69.244 39.0628 69.1355 39.2723 69.1087 39.4994H71.0022C70.9883 39.2426 70.9041 39.0416 70.7462 38.896C70.5884 38.754 70.3713 38.6775 70.1013 38.6775ZM73.444 37.0556C73.5331 37.15 73.6615 37.1972 73.8283 37.1972C74.1367 37.1972 74.3086 37.0169 74.3333 36.6564H74.8521C74.8521 36.7947 74.8274 36.9196 74.7784 37.0376C74.7296 37.1556 74.6592 37.2562 74.5717 37.3392C74.5324 37.375 74.4905 37.4083 74.4456 37.4384C74.3862 37.4783 74.3211 37.5125 74.2492 37.5402C74.1778 37.5695 74.1019 37.5898 74.0208 37.6024C73.9585 37.6118 73.8932 37.6163 73.8246 37.6163C73.7585 37.6163 73.6954 37.6126 73.6356 37.6053C73.54 37.5935 73.4523 37.5723 73.3726 37.5402C73.243 37.4885 73.1305 37.4226 73.043 37.3392C72.9901 37.2891 72.9447 37.2321 72.9071 37.1691C72.8825 37.128 72.8611 37.084 72.843 37.0376C72.8176 36.9721 72.7988 36.9042 72.7872 36.833C72.7779 36.7764 72.773 36.7178 72.773 36.6564H73.2955C73.3091 36.8326 73.3587 36.9656 73.444 37.0556ZM72.8849 41.3195H72.3309V38.2335H72.8849V40.5321L74.6871 38.2335H75.2413V41.3195H74.6871V39.0205L72.8849 41.3195Z" fill="black"/>
                                    </svg>
                                    </label>
                                    <label class="radio-label" style="font-weight:400;font-size: 12px;">
                                        <input type="radio" v-model="paymentMethod" value="bank_card" class="hidden-radio" />
                                        <span class="custom-radio"></span>
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                             width="50" height="40" viewBox="0 0 512.000000 512.000000"
                                             preserveAspectRatio="xMidYMid meet">

                                            <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)"
                                               fill="gold" stroke="none">
                                                <path style="background: gold" fill="gray" d="M270 4291 c-98 -19 -190 -93 -237 -189 l-28 -57 0 -1485 0 -1485 26
-56 c34 -72 96 -134 168 -168 l56 -26 2310 0 2310 0 47 22 c67 31 129 92 164
160 l29 58 0 1490 0 1490 -33 67 c-37 76 -82 120 -162 157 l-55 26 -2280 1
c-1254 1 -2296 -1 -2315 -5z m235 -507 c11 -12 15 -32 14 -73 -3 -83 -7 -93
-38 -89 -25 3 -26 6 -29 76 -4 93 15 123 53 86z m164 2 c7 -9 11 -42 9 -88 -3
-68 -5 -73 -27 -76 -32 -5 -41 12 -41 85 0 43 5 66 16 77 19 20 28 20 43 2z
m160 0 c7 -9 11 -42 9 -88 -3 -70 -4 -73 -28 -73 -24 0 -25 3 -28 73 -3 69 6
102 28 102 4 0 13 -6 19 -14z m161 4 c10 -6 15 -28 17 -69 2 -85 -4 -103 -36
-99 -25 3 -26 6 -29 76 -4 89 11 116 48 92z m-170 -685 l0 -95 -44 0 c-38 0
-49 6 -84 40 l-40 40 -96 0 c-109 0 -116 7 -67 62 33 37 69 44 239 47 l92 1 0
-95z m274 86 c41 -10 91 -51 99 -82 5 -18 -1 -19 -89 -19 l-94 0 -45 -41 c-39
-36 -48 -40 -87 -37 l-43 3 -3 79 c-2 44 -1 84 2 91 5 15 204 19 260 6z m3525
-39 c63 -124 73 -292 25 -431 -30 -89 -51 -114 -77 -93 -13 11 -10 24 15 99
28 81 30 94 26 198 -4 88 -10 122 -30 171 -18 43 -23 66 -16 78 15 26 36 18
57 -22z m-108 -84 c20 -52 24 -81 24 -168 0 -89 -4 -114 -25 -164 -29 -69 -54
-90 -75 -63 -11 16 -10 26 13 75 23 49 27 70 27 152 0 80 -4 105 -26 158 -24
55 -25 64 -12 77 24 24 48 2 74 -67z m-151 13 c53 -75 66 -198 30 -294 -25
-67 -53 -95 -75 -77 -20 17 -19 25 8 79 16 35 22 64 22 116 0 52 -6 81 -22
116 -26 51 -29 75 -10 82 22 9 25 8 47 -22z m-3672 -44 c27 -26 32 -38 32 -79
l0 -48 -135 0 -135 0 0 83 0 82 102 -3 c100 -3 104 -4 136 -35z m512 -47 l0
-80 -130 0 -130 0 0 47 c0 39 5 52 32 80 32 33 32 33 130 33 l98 0 0 -80z
m3029 51 c25 -25 47 -67 55 -108 15 -68 -43 -187 -87 -181 -31 4 -32 33 -2 72
41 54 35 114 -17 187 -14 20 -4 49 17 49 8 0 24 -9 34 -19z m-3309 -136 l0
-95 -95 0 -95 0 0 95 0 95 95 0 95 0 0 -95z m-200 -53 c0 -41 -5 -53 -34 -81
-33 -32 -34 -33 -132 -33 l-99 0 -3 81 -3 81 136 0 135 0 0 -48z m480 -31 l0
-80 -95 -3 c-94 -3 -95 -3 -130 29 -31 28 -35 36 -35 82 l0 51 130 0 130 0 0
-79z m-380 -116 l0 -95 -125 0 c-139 0 -178 10 -213 55 -39 50 -32 55 74 55
l97 0 43 40 c36 33 51 40 84 40 l40 0 0 -95z m136 58 c39 -38 39 -38 141 -43
l102 -5 -16 -34 c-27 -56 -75 -71 -225 -71 l-128 0 0 88 c0 49 2 91 5 93 2 3
22 6 44 7 33 2 45 -3 77 -35z m-367 -617 c15 -8 32 -26 39 -41 17 -37 15 -189
-3 -224 -29 -57 -115 -65 -155 -14 -17 22 -20 41 -20 130 0 102 1 105 29 134
33 32 67 37 110 15z m269 -21 c20 -24 22 -37 22 -130 0 -95 -2 -106 -24 -132
-32 -37 -103 -40 -138 -5 -20 20 -23 34 -26 128 -4 113 6 145 51 164 36 15 90
3 115 -25z m233 6 c28 -29 29 -32 29 -136 0 -104 -1 -107 -29 -136 -34 -33
-69 -37 -112 -12 -37 22 -49 59 -49 148 0 88 14 131 49 150 42 23 79 18 112
-14z m228 14 c37 -19 51 -60 51 -150 0 -90 -14 -131 -51 -150 -43 -23 -77 -18
-110 14 -28 29 -29 32 -29 136 0 104 1 107 29 136 33 32 67 37 110 14z m395
-15 c19 -18 21 -33 21 -135 0 -106 -2 -116 -23 -137 -35 -35 -106 -32 -138 5
-22 26 -24 37 -24 130 0 109 10 139 54 158 31 13 87 3 110 -21z m237 1 c28
-29 29 -32 29 -136 0 -104 -1 -107 -29 -136 -46 -45 -123 -32 -149 26 -16 35
-15 193 2 224 31 56 102 67 147 22z m241 0 c32 -28 33 -32 36 -119 3 -68 0
-98 -13 -125 -29 -62 -95 -75 -147 -28 l-33 29 2 109 c2 107 3 108 33 136 40
36 80 35 122 -2z m227 15 c15 -8 32 -26 39 -41 17 -37 15 -189 -3 -224 -29
-57 -115 -65 -155 -14 -17 22 -20 41 -20 127 0 77 4 107 16 124 28 41 77 52
123 28z m399 -21 c20 -23 22 -37 22 -129 0 -89 -3 -107 -20 -129 -41 -52 -132
-40 -159 20 -16 34 -13 193 3 222 31 56 111 64 154 16z m240 -1 c20 -23 22
-35 22 -133 0 -100 -2 -109 -24 -130 -13 -12 -39 -24 -58 -27 -30 -5 -41 -1
-69 24 l-34 30 1 106 c1 89 4 110 20 127 41 46 103 47 142 3z m216 25 c14 -7
32 -26 41 -44 18 -39 20 -166 4 -214 -23 -64 -116 -79 -159 -24 -17 22 -20 40
-20 127 0 77 4 107 16 124 27 39 74 51 118 31z m239 0 c48 -25 57 -48 57 -155
0 -87 -3 -105 -20 -127 -40 -51 -126 -43 -155 14 -19 36 -20 194 -1 228 24 44
77 62 119 40z m405 -24 c20 -23 22 -37 22 -129 0 -89 -3 -107 -20 -129 -46
-58 -140 -38 -161 34 -6 20 -10 73 -8 118 4 79 6 84 38 113 28 25 39 29 70 24
21 -3 45 -16 59 -31z m221 20 c37 -19 51 -60 51 -150 0 -95 -13 -129 -56 -150
-44 -21 -87 -12 -114 22 -17 22 -20 41 -20 133 l0 108 31 26 c35 29 67 33 108
11z m240 1 c15 -8 32 -26 39 -41 17 -37 15 -189 -3 -224 -29 -57 -115 -65
-155 -14 -17 22 -20 41 -20 127 0 77 4 107 16 124 28 41 77 52 123 28z m269
-21 c20 -24 22 -37 22 -130 0 -93 -2 -106 -22 -130 -14 -15 -38 -28 -59 -31
-31 -5 -42 -1 -70 24 -34 30 -34 31 -37 131 l-4 101 36 36 c33 33 41 36 74 31
22 -4 46 -17 60 -32z m-2112 -749 c15 -12 17 -18 8 -33 -11 -17 -58 -18 -1044
-18 -986 0 -1033 1 -1044 18 -9 15 -7 21 8 33 30 21 2042 21 2072 0z m1554 -5
c5 -9 5 -22 -1 -33 -9 -17 -25 -18 -216 -16 -186 3 -207 5 -217 21 -9 15 -7
21 9 33 29 22 411 17 425 -5z m553 14 c32 -8 41 -30 21 -50 -13 -12 -49 -15
-209 -15 -106 0 -200 3 -209 6 -24 9 -19 43 7 53 26 10 354 15 390 6z"/>
                                                <path d="M514 2077 c-3 -8 -4 -49 -2 -93 3 -78 3 -79 31 -82 l27 -3 0 95 0 96
-25 0 c-14 0 -28 -6 -31 -13z"/>
                                                <path d="M757 2084 c-9 -9 -9 -146 -1 -168 3 -9 17 -16 30 -16 30 0 36 23 32
115 -3 67 -4 70 -28 73 -14 2 -29 0 -33 -4z"/>
                                                <path d="M1007 2084 c-4 -4 -7 -47 -7 -96 l0 -89 28 3 27 3 0 90 c0 83 -2 90
-20 93 -12 2 -24 0 -28 -4z"/>
                                                <path d="M1244 2077 c-3 -8 -4 -49 -2 -93 3 -78 3 -79 31 -82 l27 -3 0 95 0
96 -25 0 c-14 0 -28 -6 -31 -13z"/>
                                                <path d="M1617 2083 c-9 -8 -9 -146 -1 -167 3 -9 16 -16 29 -16 29 0 35 16 35
95 0 35 -3 70 -6 79 -6 16 -45 22 -57 9z"/>
                                                <path d="M1860 1995 l0 -96 28 3 27 3 0 90 0 90 -27 3 -28 3 0 -96z"/>
                                                <path d="M2105 2077 c-3 -7 -5 -49 -3 -93 3 -77 4 -79 28 -79 25 0 25 1 25 90
0 86 -1 90 -23 93 -12 2 -24 -3 -27 -11z"/>
                                                <path d="M2344 2077 c-3 -8 -4 -49 -2 -93 3 -78 3 -79 31 -82 l27 -3 0 95 0
96 -25 0 c-14 0 -28 -6 -31 -13z"/>
                                                <path d="M2727 2089 c-14 -8 -17 -25 -17 -89 0 -89 15 -119 51 -100 16 9 19
22 19 95 0 71 -3 86 -18 94 -11 6 -24 6 -35 0z"/>
                                                <path d="M2973 2093 c-9 -3 -13 -32 -13 -98 0 -83 2 -93 19 -98 32 -8 41 13
41 100 0 68 -3 84 -17 91 -10 5 -24 7 -30 5z"/>
                                                <path d="M3212 2088 c-7 -7 -12 -44 -12 -94 0 -85 11 -111 44 -98 16 6 21 49
16 149 -2 50 -23 68 -48 43z"/>
                                                <path d="M3457 2089 c-14 -8 -17 -24 -17 -84 0 -89 5 -105 35 -105 30 0 35 16
35 105 0 61 -3 76 -18 84 -11 6 -24 6 -35 0z"/>
                                                <path d="M3833 2093 c-9 -3 -13 -33 -13 -99 l0 -95 28 3 c27 3 27 3 30 90 2
75 0 88 -15 96 -10 5 -24 7 -30 5z"/>
                                                <path d="M4076 2087 c-14 -10 -16 -28 -14 -97 3 -84 3 -85 31 -88 l27 -3 0 94
c0 100 -9 119 -44 94z"/>
                                                <path d="M4316 2087 c-14 -10 -16 -27 -14 -97 3 -81 4 -85 27 -88 34 -5 41 12
41 100 0 65 -3 79 -19 87 -13 7 -23 7 -35 -2z"/>
                                                <path d="M4550 1997 c0 -100 9 -119 44 -94 14 10 16 28 14 97 -3 84 -3 85 -30
88 l-28 3 0 -94z"/>
                                            </g>
                                        </svg>
                                        Банковская карта
                                    </label>
                                </div>
                            </div>

                            <p align="justify">Нажимая кнопку «Оплатить», 
                                Вы даете свое <a href="/personal-data">Согласие на обработку своих персональных данных</a> в соответствии 
                                с законом №152-ФЗ «О персональных данных» от 27.07.2006 и принимаете условия <a href="/oferta">Пользовательского соглашения</a>,
                                <a href="/policy">Политики обработки персональных данных</a>
                            </p>

                            <button type="submit" :disabled="selectedSeats.length === 0">
                                Перейти к оплате
                            </button>
                            <!-- Возврат -->
                        
                        </div>
                        
                    </div>
                    <div class="refund-block">
                            <h3>Возврат</h3>
                            <div class="refund-btn-wrapper">
                                <more-info :refundLimit="refundLimit" />
                            </div>
                        </div>
                </div>
            </form>
        </section>
        <!-- Модальное окно для верификации -->
        <div v-if="showVerificationModal" class="verification-modal">
            <div class="verification-modal-container">
                <button class="close-btn" @click="closeModal">×</button>
                <h2>Подтверждение адреса электронной почты</h2>
                <p>На ваш адрес электронной почты {{ emailToVerify }} был отправлен код подтверждения.</p>
                <input v-model="verificationCode" placeholder="Введите код" />
                <button
                    class="confirm-code-btn"
                    @click="verifyCode(paymentMethod)"
                    :disabled="isVerifying"
                >
                    <span v-if="isVerifying" class="spinner">Загрузка...</span>
                    Подтвердить</button>
            </div>
        </div>
    </main>
</template>

<script setup>
import {ref, computed, onMounted, watch, watchEffect} from 'vue';
import { useBookingStore } from '@/stores/booking';
import { useLoadingStore } from '@/stores/loading';
import { useOrderDetailsStore } from '@/stores/orderDetails';
import { useAuthStore } from '@/stores/auth';
import dayjs from 'dayjs';
import duration from 'dayjs/plugin/duration';
import 'dayjs/locale/ru';
import axios from 'axios';
import RideInfo from './RideInfo.vue';
import MoreInfo from './MoreInfo.vue';
import SeatSelector from './SeatSelector.vue';
import PassengerForm from './PassengerForm.vue';
import { toast } from 'vue3-toastify';
import 'vue3-toastify/dist/index.css';

// Подключение dayjs
dayjs.extend(duration);
dayjs.locale('ru');

// Стор и роутер
const bookingStore = useBookingStore();
const loadingStore = useLoadingStore();
const orderDetailsStore = useOrderDetailsStore();
const authStore = useAuthStore();

const props = defineProps({
    bookingData: Object,
    docs: Array,
    user: Object,
});
const userDocs = computed(() => props.docs);

// Компоненты
const bookingData = ref(bookingStore.getBookingData);
// Состояния
const needDocs = computed(() => bookingStore.getNeedDocs);
const selectedSeats = ref([]);
const passengerData = ref(orderDetailsStore.passengerData);
const contactInfo = ref(orderDetailsStore.contactInfo);
const showVerificationModal = ref(false)
const emailToVerify = ref('')
const verificationCode = ref('')
const refundLimit = ref(null)
const paymentMethod = ref("sbp")
import { router } from '@inertiajs/vue3'

// Обновление данных пассажиров при изменении мест
watch(selectedSeats, (newSeats) => {
    passengerData.value = newSeats.map((seat) => {
        const existingPassenger = passengerData.value.find(p => p.place === seat);
        return existingPassenger || {
            place: seat,
            lastname: '',
            firstname: '',
            patronymic: '',
            gender: 'male',
            birthday: '',
            document_type: 'passport',
            docs_number: '',
            tariff_type: 'full',
            no_patronymic: false,
        };
    });

    orderDetailsStore.setPassengerData(passengerData.value);
    orderDetailsStore.setSelectedSeats(newSeats);
}, { deep: true });

watch(contactInfo, (newInfo) => {
    orderDetailsStore.setContactInfo(newInfo);
}, { deep: true });

const totalAmount = computed(() => selectedSeats.value.length * (bookingData.value?.data?.price ?? 0));

const selectedSeatsText = computed(() => {
    const seats = selectedSeats.value;
    if (seats.length === 0) return '';
    if (seats.length === 1) return `место ${seats[0]}`;
    if (seats.length === 2) return `места ${seats[0]} и ${seats[1]}`;
    const lastSeat = seats[seats.length - 1];
    return `места ${seats.slice(0, -1).join(', ')} и ${lastSeat}`;
});

// Подтверждение бронирования
const confirmBooking = async (paymentMethod) => {
    if (!paymentMethod) {
        toast.error('Выберите способ оплаты')
        return;
    }
    loadingStore.setLoading(true);

    try {
        if (props.user && needDocs.value) {
            const saveDocsPromises = orderDetailsStore.getPassengerData.map(passenger =>
                saveDocument(passenger)
            );
            await Promise.all(saveDocsPromises);
        }

        router.post('/orders/confirm-booking', {
            sheet_id: props.bookingData.data.id,
            price_id: props.bookingData.priceId,
            total_price: totalAmount.value,
            selected_seats: selectedSeats.value,
            passenger_data: passengerData.value,
            contact_info: contactInfo.value,
            payment_method: paymentMethod
        }, {
            preserveScroll: true,
            onSuccess: (page) => {
                const response = page.props.flash?.response
                if (response?.status === 'success') {
                    window.location.href = response.paymentUrl;
                } else if (response?.status === 'need_verification') {
                    showVerificationModal.value = true;
                    emailToVerify.value = response.email;
                } else {
                    console.error('Неожиданный статус ответа:', response?.message);
                    toast.error('Неожиданный статус ответа: ' + response?.message);
                }
            },
            onError: (errors) => {
                const errorMessages = extractErrorMessages(errors);
                console.log('Ошибка при подтверждении бронирования:', errors);
                if (errorMessages.length > 0) {
                    // Объединяем сообщения в одну строку
                    const errorText = errorMessages.join(', ');
                    toast.error(errorText || 'Ошибка при добавлении документа');
                } else {
                    toast.error('Неизвестная ошибка');
                }
            },
            onFinish: () => {
                loadingStore.setLoading(false);
            }
        });
    } catch (error) {
        const errorMessages = extractErrorMessages(error);
        console.log('Ошибка при подтверждении бронирования:', error);
        if (errorMessages.length > 0) {
            // Объединяем сообщения в одну строку
            const errorText = errorMessages.join(', ');
            toast.error(errorText || 'Ошибка при добавлении документа');
        } else {
            toast.error('Неизвестная ошибка');
        }
    } finally {
        loadingStore.setLoading(false);
    }
};

const extractErrorMessages = (obj) => {
    let messages = [];

    for (const key in obj) {
        if (typeof obj[key] === 'object' && obj[key] !== null) {
            messages = messages.concat(extractErrorMessages(obj[key])); // рекурсивный вызов для вложенных объектов
        } else {
            messages.push(obj[key]);
        }
    }

    return messages;
};


const saveDocument = async (passenger) => {
    return new Promise((resolve, reject) => {
        router.post('/account/docs', {
            firstname: passenger.firstname,
            lastname: passenger.lastname,
            patronymic: passenger.patronymic || '',
            birthday: passenger.birthday,
            gender: passenger.gender,
            type: passenger.document_type,
            number: passenger.docs_number,
        }, {
            preserveScroll: true,
            onSuccess: () => {
                console.log('Документ сохранён для:', passenger.firstname);
                resolve();
            },
            onError: (errors) => {
                console.error('Ошибка при сохранении документа:', errors);
                toast.error('Ошибка при сохранении документа');
                reject(errors);
            }
        });
    });
};

const closeModal = () => {
    showVerificationModal.value = false;
};

const changeNeedDocs = () => {
    if (bookingStore.getNeedDocs === false) {
        bookingStore.setNeedDocs(true)
    } else {
        bookingStore.setNeedDocs(false)
    }
}
const isVerifying = ref(false);
const verifyCode = async (paymentMethod) => {
    if (isVerifying.value) return;
    if (!paymentMethod) {
        toast.error('Выберите способ оплаты');
        return;
    }

    loadingStore.setLoading(true);

    try {
        if (props.user && needDocs.value) {
            const saveDocsPromises = orderDetailsStore.getPassengerData.map(passenger =>
                saveDocument(passenger)
            );
            await Promise.all(saveDocsPromises);
        }

        router.post('/orders/verify-code', {
            sheet_id: props.bookingData.data.id,
            price_id: props.bookingData.priceId,
            total_price: totalAmount.value,
            selected_seats: selectedSeats.value,
            passenger_data: passengerData.value,
            contact_info: contactInfo.value,
            email: emailToVerify.value,
            code: verificationCode.value,
            payment_method: paymentMethod
        }, {
            preserveScroll: true,
            onSuccess: (page) => {
                const response = page.props.flash?.response;
                console.log(response)
                if (response?.status === 'success') {
                    showVerificationModal.value = false;
                    window.location.href = response.paymentUrl;
                } else {
                    console.error('Неожиданный статус ответа:', response?.message);
                    toast.error('Неожиданный статус ответа: ' + response?.message);
                }
            },
            onError: (errors) => {
                const errorMessages = extractErrorMessages(errors);
                console.log('Ошибка при проверке кода:', errors);
                if (errorMessages.length > 0) {
                    toast.error(errorMessages.join(', '));
                } else {
                    toast.error('Ошибка при проверке кода подтверждения');
                }
            },
            onFinish: () => {
                loadingStore.setLoading(false);
            }
        });
    } catch (error) {
        const errorMessages = extractErrorMessages(error);
        console.log('Ошибка при проверке кода:', error);
        if (errorMessages.length > 0) {
            toast.error(errorMessages.join(', '));
        } else {
            toast.error('Неизвестная ошибка');
        }
    } finally {
        loadingStore.setLoading(false);
    }
};

// Действия при монтировании
onMounted( () => {
    bookingStore.setBookingData(props.bookingData);
    // Синхронизация данных из orderDetailsStore с состоянием компонента
    orderDetailsStore.clear()
    selectedSeats.value = orderDetailsStore.selectedSeats;
    passengerData.value = orderDetailsStore.passengerData;
    contactInfo.value = orderDetailsStore.contactInfo;

    // Заполняем контактные данные из authStore, если пользователь авторизован
    if (props.user && props.user?.email) {
        contactInfo.value.email = props.user.email;
    }
});

watchEffect(() => {
    bookingData.value = bookingStore.getBookingData;
});

const formatPhoneNumber = () => {
    let phone = contactInfo.value.phone.replace(/\D/g, '');

    if (phone === '') {
        contactInfo.value.phone = ''; // Если пусто, ничего не подставляем
        return;
    }

    if (phone.startsWith('7') || phone.startsWith('8')) {
        phone = `+7${phone.slice(1)}`; // Меняем 7 или 8 на +7
    } else if (!phone.startsWith('+7')) {
        phone = `+7${phone}`; // Добавляем +7, если нет
    }

    contactInfo.value.phone = phone;
};
</script>


<style scoped>
.contact-info-warning {
    font-size: 16px;
    margin-top: 10px;
}

.close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    background-color: #eff1f4;
    color: #5a6268;
    border: none;
    font-size: 26px;
    cursor: pointer;
    padding: 0;
    width: 36px;
}

.close-btn:hover {
    background-color: #e1e3e4;
}
.verification-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    overflow: auto;
}
.verification-modal-container {
    position: relative;
    background: #fff;
    width: 40%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    padding-top: 50px;
    padding-bottom: 40px;
    border-radius: 20px;
}

@media (max-width: 767px) {
    .verification-modal-container {
        width: 90%;
    }
}

.verification-modal-container h2 {
    font-size: 24px;
    margin-bottom: 10px;
    text-align: center;
    color: black;
}

.verification-modal-container p {
    font-size: 16px;
    margin-bottom: 20px;
    text-align: center;
    color: black;
}

.verification-modal-container input {
    padding: 10px;
    font-size: 16px;
    margin: 10px 0;
    width: 80%;
    border-radius: 5px;
    border: 1px solid #cfd9e6;
    outline: none;
}

.confirm-code-btn {
    padding: 10px 20px;
    font-size: 16px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    width: 80%;
}

.confirm-code-btn:hover {
    background-color: #45a049;
}
.ticket-booking-section {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    align-items: center; /* Вертикальное выравнивание */
    justify-content: center; /* Горизонтальное выравнивание */
    text-align: center; /* Центрирование текста внутри контейнера */
}
.booking-col {
    display: flex;
    flex-direction: column;
    gap: 20px;
}
.result-order {
    max-width: 340px;
    min-width: 340px;
    padding: 0;
}
.result-order-info {
    background-color: #f9f9f9;
    border-radius: 16px;
    border: 1px solid #ddd;
    height: max-content;
    position: sticky;
    top: 20px;
    padding: 28px 20px ;
    box-shadow: 0 4px 12px -4px hsla(60,4%,60%,.35),0 0 2px hsla(60,4%,60%,.3);
}
.result-amount {
    font-size: 24px;
    font-weight: 600;
    display: flex;
    justify-content: space-between;
}
.result-title {
    font-size: 18px;
    font-weight: 600;
    line-height: 22px;
}
.result-data {
    font-size: 14px;
    display: flex;
    justify-content: space-between;
}
.result-tariff, .result-price {
    font-weight: 600;
}
.result-places {
    color: #9d9b98;
}
.result-tariff-places {
    margin-right: 10px;
    margin-bottom: 10px;
}
.margin-row {
    margin: 0;
}
/* Стили для кнопки */
button {
    background-color: #fa742d; /* Цвет кнопки */
    color: #fff;
    border: none;
    padding: 10px 15px;
    border-radius: 15px;
    cursor: pointer;
    font-size: 18px;
    font-weight: bold;
    transition: background-color 0.3s;
    margin-top: 4px;
    width: 100%;
}
button:hover {
    background-color: #e45c24; /* Цвет кнопки при наведении */
}
button:focus, button:active {
    outline: none;
}
@media (max-width: 1028px) {
    .result-order {
        max-width: none;
        padding: 15px;
        margin-top: 5px;
    }
}
.line {
    display: flex;
    content: "";
    border-top: 1px solid #cfd9e6;
    flex-grow: 1;
    margin-right: 4px;
    align-self: center;
    height: 1px;
}
main {
    background: #eff1f4;
}
.passenger-data {
    flex-direction: column;
    gap: 20px;
    background: #f9f9f9;
    padding: 28px 32px 32px;
    border-radius: 16px;
    border: 1px solid #ddd;
    box-shadow: 0 4px 12px -4px hsla(60,4%,60%,.35),0 0 2px hsla(60,4%,60%,.3);
    text-align: start;
}
.email{
    max-width: 350px;
    width: 93%;
    min-width: 200px;
    font-size: 16px;
    height: 44px;
    border-radius: 8px;
    color: #0d0d0f;
    padding-right: 12px;
    padding-left: 12px;
    background-color: rgb(255, 255, 255);
    border: 1px solid rgb(227, 225, 220);
}
.phone {
    max-width: 350px;
    width: 93%;
    min-width: 200px;
    font-size: 16px;
    height: 44px;
    border-radius: 8px;
    color: #0d0d0f;
    padding-right: 12px;
    padding-left: 12px;
    background-color: rgb(255, 255, 255);
    border: 1px solid rgb(227, 225, 220);

}
.email:hover,
.phone:hover {
    border: 1px solid rgb(179, 179, 178);
}
.email:focus,
.phone:focus,
.email:active,
.phone:active {
    border: 1px solid #ffeb3b;
    outline: 1px solid #ffeb3b;
}
hr {
    margin: 32px 0; /* Отступы сверху и снизу */
}
.buyer-title, .buyer-info, .buyer-data {
    margin: 0;
}
.buyer {
    display: flex;
    flex-direction: column;
    background: #f9f9f9;
    padding: 28px 32px 32px;
    border-radius: 16px;
    border: 1px solid #ddd;
    box-shadow: 0 4px 12px -4px hsla(60, 4%, 60%, .35), 0 0 2px hsla(60, 4%, 60%, .3);
    text-align: start;
}
.buyer-title {
    font-size: 18px;
    line-height: 22px;
    font-weight: 600;
    padding-bottom: 10px;
}
.buyer-info {
    font-size: 16px;
    line-height: 20px;
    margin-bottom: 20px;
}
.row label {
    font-size: 14px;
    font-weight: 600;
}
.no-results{
    display: flex;
    flex-direction: column;
    align-items: center;
    background: #eff1f4;
    padding-top: 50px;
    padding-bottom: 50px;
}
.no-results-message {
    font-size: 18px;
    color: #d9534f;
    text-align: center;
    margin-bottom: 20px;
    font-weight: bold;
    max-width: 800px;
}

.back-to-search-button {
    display: block;
    margin: 0 auto;
    padding: 10px 20px;
    font-size: 16px;
    color: white;
    background-color: #007bff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    max-width: 800px;
}

.back-to-search-button:hover {
    background-color: #0056b3;
}

.back-to-search-button:focus {
    outline: none;
}
.need-docs-button {
    background: #0c73fe;

}
.need-docs-button:hover {
    background: #0a5cc9;
}
.payment-type {
    margin-bottom: 15px;
    font-size: 16px;
    font-weight: bold;
}

.radio-group {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-top: 10px;
}

.radio-label {
    display: flex;
    align-items: center;
    cursor: pointer;
    font-size: 16px;
    position: relative;
}

.hidden-radio {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
}

.custom-radio {
    width: 20px;
    height: 20px;
    border: 2px solid #007bff;
    border-radius: 50%;
    display: inline-block;
    position: relative;
    margin-right: 8px;
    transition: all 0.2s ease-in-out;
}

.custom-radio::after {
    content: "";
    width: 12px;
    height: 12px;
    background: #007bff;
    border-radius: 50%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    transition: all 0.2s ease-in-out;
}

.hidden-radio:checked + .custom-radio::after {
    transform: translate(-50%, -50%) scale(1);
}
.text-start {
    text-align: start;
}

.refund-block {
    display: flex;
    flex-direction: column;
    background: #f9f9f9;
    padding: 10px 32px 32px;
    border-radius: 16px;
    border: 1px solid #ddd;
    box-shadow: 0 4px 12px -4px #9d9d9559,0 0 2px #9d9d954d;
    text-align: start;
    width: 69%;
    margin-top: 20px;
    margin-left: 12px;
}

/* мобильная версия */
@media (max-width: 767px) {
    .refund-block {
        width: 93%;
        margin-left: auto;
        margin-right: auto; /* чтобы выровнялось по центру */
    }
}

.refund-block h3{
    font-size: 18px;
    line-height: 22px;
    font-weight: 600;
    text-align: initial;
}

.col{
    padding-top: 20px;
}

</style>
